/*
 Navicat Premium Data Transfer

 Source Server         : 家庭服务器
 Source Server Type    : MySQL
 Source Server Version : 80027
 Source Host           : ipv4.lijun.website:13307
 Source Schema         : kenn_book

 Target Server Type    : MySQL
 Target Server Version : 80027
 File Encoding         : 65001

 Date: 12/09/2024 17:08:19
*/

SET NAMES utf8mb4;
SET FOREIGN_KEY_CHECKS = 0;

-- ----------------------------
-- Table structure for book_search_rule
-- ----------------------------
DROP TABLE IF EXISTS `book_search_rule`;
CREATE TABLE `book_search_rule`  (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `source_id` bigint NULL DEFAULT NULL COMMENT '书源id',
  `charset_name` char(5) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '接口返回内容编码类型: 默认utf-8',
  `search_url` varchar(1024) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '搜索书籍的url',
  `search_method` tinyint NULL DEFAULT NULL COMMENT '请求方式 1: get 2: post',
  `search_param` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '搜索的相关参数',
  `url_encoder` tinyint NULL DEFAULT NULL COMMENT '参数是否需要url编码',
  `param_charset` char(5) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '参数编码 默认utf-8',
  `book_list` varchar(1024) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '获取书籍列表的规则',
  `book_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '获取书名的规则',
  `book_url` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '获取书籍链接的规则',
  `author` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '获取作者名称的规则',
  `last_chapter` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '获取最新章节名称的规则',
  `last_chapter_url` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '获取最新章节链接的规则',
  `update_time` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '获取更新时间的规则',
  `img_url` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '获取书籍封面链接的规则',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX ```source_id```(`source_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 12 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '书籍列表搜索规则表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Records of book_search_rule
-- ----------------------------
INSERT INTO `book_search_rule` VALUES (1, 2, 'GBK', 'http://www.shuxiang.la/modules/article/search.php', 1, '{\"searchkey\": \"%s\",\"submit\": \"搜索\"}', 1, 'GBK', 'tbody>tr:gt(0)', 'tr>td:eq(0)>a@text', 'tr>td:eq(0)>a@href', 'tr>td:eq(2)@text', 'tr>td:eq(1)>a@text', 'tr>td:eq(1)>a@href', 'tr>td:eq(4)@text', NULL);
INSERT INTO `book_search_rule` VALUES (6, 7, 'GBK', 'http://www.biqu5200.net/modules/article/search.php', 1, '{\"searchkey\": \"%s\"}', 1, 'UTF-8', 'tbody>tr:gt(0)', 'tr>:eq(0)>a@text', 'tr>:eq(0)>a@href', 'tr>:eq(2)@text', 'tr>:eq(1)>a@text', 'tr>:eq(1)>a@href', 'tr>:eq(4)@text', NULL);
INSERT INTO `book_search_rule` VALUES (7, 8, 'UTF-8', 'https://www.zbcxw.cn/search.php', 1, '{\"key\": \"%s\",\"page\":<page>%s</page>}', 1, 'UTF-8', '.leftBox.left>ul>li', '.top.clearfix>h1@text', '.top.clearfix>h1>a@href', '.top.clearfix>.s2@text', NULL, NULL, NULL, '.sCboxBookParL.left>a>img@data-original');
INSERT INTO `book_search_rule` VALUES (8, 9, 'GBK', 'https://www.sewenwang.top/modules/article/search.php', 2, '{\"searchkey\": \"%s\"}', 1, 'GBK', '.layout.layout2.layout-co18>ul>li:gt(0)', '.s2>a@text', '.s2>a@href', '.s4@text', '', '', '.s5@text', NULL);
INSERT INTO `book_search_rule` VALUES (9, 10, 'UTF-8', 'http://m.nshkedu.com/search/book/result', 2, '{\"kw\": \"%s\",\"pn\": \"<page>%s</page>\",\"is_author\": \"0\"}', 1, 'UTF-8', '<js>var SecretKeySpec = Java.type(\'javax.crypto.spec.SecretKeySpec\');\r\nvar IvParameterSpec = Java.type(\'javax.crypto.spec.IvParameterSpec\');\r\nvar Base64 = Java.type(\'java.util.Base64\');\r\nvar Cipher = Java.type(\'javax.crypto.Cipher\');\r\nfunction decrypt(str) {\r\n	var key = new SecretKeySpec(java.str2Bytes(\'ZKYm5vSUhvcG9IbXNZTG1pb2\'), \'DESede\');\r\n    var iv = new IvParameterSpec(java.str2Bytes(\'01234567\'));\r\n    var bytes = Base64.getDecoder().decode(str);\r\n    var cipher = Cipher.getInstance(\'DESede/CBC/PKCS5Padding\');\r\n    cipher.init(2, key, iv);\r\n    return java.bytes2Str(cipher.doFinal(bytes));\r\n}\r\ndecrypt(JSON.parse(result).data.replace(/(\\r\\n)|(\\n)|(\\r)/g,\'\'));</js>$.result[*]', 'book_name', 'book_id', 'author_name', NULL, NULL, NULL, 'book_cover');
INSERT INTO `book_search_rule` VALUES (10, 11, 'UTF-8', '<js>sign_key=\'d3dGiJc651gSQ8w1\'\r\nparams={\'gender\':\'3\',\'imei_ip\':\'2937357107\',\'page\':<page>%s</page>,\'wd\':result}\r\nfunction urlEncode(param, key, encode) {\r\n  if(param==null) return \'\';\r\n  var paramStr = \'\';\r\n  var t = typeof (param);\r\n  if (t == \'string\' || t == \'number\' || t == \'boolean\') {\r\n	paramStr += \'&\' + key + \'=\' + ((encode==null||encode) ? encodeURIComponent(param) : param);\r\n  } else {\r\n	for (var i in param) {\r\n		var k = key == null ? i : key + (param instanceof Array ? \'[\' + i + \']\' : \'.\' + i);\r\n		paramStr += urlEncode(param[i], k, encode);\r\n	}\r\n  }\r\n  return paramStr;\r\n};\r\nparamSign=String(java.md5Encode(Object.keys(params).sort().reduce((pre,n)=>pre+n+\'=\'+params[n],\'\')+sign_key))\r\nparams[\'sign\']=paramSign\r\nbody=urlEncode(params)\r\n\'https://api-bc.wtzw.com/api/v5/search/words?\' +body</js>', 1, NULL, 0, NULL, '$.data.books[*]', 'original_title', 'id', 'original_author', NULL, NULL, NULL, 'image_link');
INSERT INTO `book_search_rule` VALUES (11, 12, 'UTF-8', 'https://api5-normal-lf.fqnovel.com/reading/bookapi/search/page/v', 1, '{\"query\": \"%s\",\"passback\": \"<page>(%s-1)*10</page>\",\"aid\":1967,\"channel\":0,\"os_version\":0,\"device_type\":0,\"device_platform\":0,\"iid\":466614321180296,\"version_code\":999}', 1, 'UTF-8', '$.data[*]', 'book_data[0].book_name', 'book_data[0].book_id', 'book_data[0].author', NULL, NULL, NULL, 'book_data[0].thumb_url');

-- ----------------------------
-- Table structure for book_source
-- ----------------------------
DROP TABLE IF EXISTS `book_source`;
CREATE TABLE `book_source`  (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '书源名称',
  `sort` tinyint NULL DEFAULT NULL COMMENT '排序',
  `base_url` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '书源url',
  `header` varchar(1024) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '请求头',
  `is_delete` tinyint NULL DEFAULT 0 COMMENT '1: 已删除 0：未删除',
  `create_time` datetime(0) NULL DEFAULT NULL,
  `update_time` datetime(0) NULL DEFAULT NULL,
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 13 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '书源表' ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of book_source
-- ----------------------------
INSERT INTO `book_source` VALUES (2, '书香小说', 6, 'http://www.shuxiang.la', '', 0, '2022-05-27 16:59:45', '2022-05-27 16:59:48');
INSERT INTO `book_source` VALUES (7, '笔趣阁5200', 5, 'http://www.biqu5200.net', '', 0, '2024-03-11 14:57:09', '2024-03-11 14:57:11');
INSERT INTO `book_source` VALUES (8, '星星小说网', 1, 'https://www.zbcxw.cn', '{\"Accept-Language\":\"zh-CN,zh;q=0.9,en;q=0.8\"}', 0, '2024-03-12 17:24:47', '2024-03-12 17:24:49');
INSERT INTO `book_source` VALUES (9, '新.涩文', 4, 'https://www.sewenwang.top', '', 1, '2024-03-26 16:41:36', '2024-03-26 16:41:39');
INSERT INTO `book_source` VALUES (10, '文趣阁', 3, 'http://m.nshkedu.com', '{\"Version-Code\":\"10000\",\"Channel\":\"mz\",\"appid\":\"wengqugexs\",\"Version-Name\":\"1.0.0\"}', 0, '2024-04-03 16:03:33', '2024-04-03 16:03:36');
INSERT INTO `book_source` VALUES (11, '七猫小说', 2, 'https://api-bc.wtzw.com', '<js>sign_key=\'d3dGiJc651gSQ8w1\'\r\nheaders={\'app-version\':\'51110\',\'platform\':\'android\',\'reg\':\'0\',\'AUTHORIZATION\':\'\',\'application-id\':\'com.****.reader\',\'net-env\':\'1\',\'channel\':\'unknown\',\'qm-params\':\'\'}\r\nfunction urlEncode(param, key, encode) {\r\n  if(param==null) return \'\';\r\n  var paramStr = \'\';\r\n  var t = typeof (param);\r\n  if (t == \'string\' || t == \'number\' || t == \'boolean\') {\r\n	paramStr += \'&\' + key + \'=\' + ((encode==null||encode) ? encodeURIComponent(param) : param);\r\n  } else {\r\n	for (var i in param) {\r\n		var k = key == null ? i : key + (param instanceof Array ? \'[\' + i + \']\' : \'.\' + i);\r\n		paramStr += urlEncode(param[i], k, encode);\r\n	}\r\n  }\r\n  return paramStr;\r\n};\r\nheaderSign=String(java.md5Encode(Object.keys(headers).sort().reduce((pre,n)=>pre+n+\'=\'+headers[n],\'\')+sign_key))\r\nheaders[\'sign\']=headerSign\r\njava.addHeader(JSON.stringify(headers));</js>', 0, '2024-06-28 15:04:13', '2024-06-28 15:04:15');
INSERT INTO `book_source` VALUES (12, '番茄小说', 7, 'https://api5-normal-lf.fqnovel.com', NULL, 1, '2024-07-05 17:27:48', '2024-07-05 17:27:50');

-- ----------------------------
-- Table structure for browse_history
-- ----------------------------
DROP TABLE IF EXISTS `browse_history`;
CREATE TABLE `browse_history`  (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `openid` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '小程序openid',
  `source_id` bigint NULL DEFAULT NULL COMMENT '书源id',
  `book_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '书名',
  `author` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '作者',
  `book_link` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '书籍链接',
  `img` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '图片链接',
  `create_time` datetime(0) NULL DEFAULT NULL COMMENT '创建时间',
  `update_time` datetime(0) NULL DEFAULT NULL COMMENT '更新时间',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX ```openid```(`openid`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 33 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '浏览历史表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Records of browse_history
-- ----------------------------
INSERT INTO `browse_history` VALUES (1, 'ooKQD40jkVrxB78u59-54JuyGT_E', 10, '我在精神病院学斩神', '三九音域', '219958', 'http://s.damaoli.com/cover/219/219958.jpg', '2024-09-03 16:50:13', '2024-09-03 18:23:57');
INSERT INTO `browse_history` VALUES (2, 'ooKQD40jkVrxB78u59-54JuyGT_E', 8, '斩神绝之君临天下', '殊雨', 'https://www.zbcxw.cn,/xiaoshuo/47549.html', 'https://www.xingxingxsw.com/files/article/image/37/37550/37550s.jpg', '2024-09-03 18:17:27', '2024-09-03 18:17:42');
INSERT INTO `browse_history` VALUES (3, 'ooKQD40jkVrxB78u59-54JuyGT_E', 8, '斩神成仙：从手撕封号斗罗开始', '初九阿潜', 'https://www.zbcxw.cn,/xiaoshuo/99024.html', 'https://www.xingxingxsw.com/files/article/image/89/89025/89025s.jpg', '2024-09-03 18:18:10', '2024-09-03 18:19:04');
INSERT INTO `browse_history` VALUES (4, 'ooKQD40jkVrxB78u59-54JuyGT_E', 8, '从骑士开始成为世界之王', '下雨的霖 ', 'https://www.zbcxw.cn,/xiaoshuo/340600.html', 'https://www.xingxingxsw.com/files/article/image/330/330601/330601s.jpg', '2024-09-03 18:19:18', '2024-09-03 18:19:18');
INSERT INTO `browse_history` VALUES (5, 'ooKQD40jkVrxB78u59-54JuyGT_E', 11, '都市古仙医', '超爽黑啤', '150567', 'https://cdn.wtzw.com/bookimg/public/images/cover/9bf3/0cbc24ff3ac27304c68886825d34c267_360x480.jpg', '2024-09-03 18:20:30', '2024-09-03 18:20:30');
INSERT INTO `browse_history` VALUES (6, 'ooKQD40jkVrxB78u59-54JuyGT_E', 11, '告白被拒，我归来斩神', '笔名叫天下呀', '1669238', 'https://cdn.wtzw.com/bookimg/public/images/cover/6da9/9485cce2c304f081f42fed5242bb07b1_360x480.jpg', '2024-09-03 18:20:51', '2024-09-03 18:21:55');
INSERT INTO `browse_history` VALUES (7, 'ooKQD40jkVrxB78u59-54JuyGT_E', 11, '高武：我，开局千亿魔蚁，斩神', '秃头键盘侠', '1787411', 'https://cdn.wtzw.com/bookimg/public/images/cover/6f3e/259bb1cba793f9be3e082a5cc89260a7_360x480.jpg', '2024-09-03 18:21:09', '2024-09-03 18:21:15');
INSERT INTO `browse_history` VALUES (8, 'ooKQD40jkVrxB78u59-54JuyGT_E', 11, '唤醒华夏神灵，以凡人之躯斩神', '魔刀', '1710902', 'https://cdn.wtzw.com/bookimg/public/images/cover/e00d/0be9691c2ad21cf48954696e3e862e42_360x480.jpg', '2024-09-03 18:21:20', '2024-09-03 18:21:20');
INSERT INTO `browse_history` VALUES (9, 'ooKQD40jkVrxB78u59-54JuyGT_E', 11, '玄幻：从魂牌开始斩神', '没火柴的小男孩', '1657880', 'https://cdn.wtzw.com/bookimg/public/images/cover/63dc/211edde1e7e6ecfe96a3cec1f829f15c_360x480.jpg', '2024-09-03 18:21:32', '2024-09-03 18:21:32');
INSERT INTO `browse_history` VALUES (10, 'ooKQD40jkVrxB78u59-54JuyGT_E', 11, '诸天战神', '斩神', '1662380', 'https://cdn.wtzw.com/bookimg/public/images/cover/5ef0/f113dd6f768fba1afe08a623f59a1365_360x480.jpg', '2024-09-03 18:21:37', '2024-09-03 18:21:40');
INSERT INTO `browse_history` VALUES (11, 'ooKQD40jkVrxB78u59-54JuyGT_E', 11, '斩神碑', '萧逆天', '1848104', 'https://cdn.wtzw.com/bookimg/public/images/cover/a3c6/ee26162b95c30677276a46a4ee205c14_360x480.jpg', '2024-09-03 18:21:43', '2024-09-03 18:21:43');
INSERT INTO `browse_history` VALUES (12, 'ooKQD40jkVrxB78u59-54JuyGT_E', 11, '九天斩神诀', '小知了', '213103', 'https://cdn.wtzw.com/bookimg/public/images/cover/a3c6/0d30113d7543d6817440097b77a27574_360x480.jpg', '2024-09-03 18:21:48', '2024-09-03 18:21:48');
INSERT INTO `browse_history` VALUES (13, 'ooKQD40jkVrxB78u59-54JuyGT_E', 11, '斩神从捕快开始', '风雨神话', '1697235', 'https://cdn.wtzw.com/bookimg/public/images/cover/9bf3/f7a75b3f730d6298120eff88fbe7c1d5_360x480.jpg', '2024-09-03 18:21:52', '2024-09-03 18:21:52');
INSERT INTO `browse_history` VALUES (14, 'ooKQD40jkVrxB78u59-54JuyGT_E', 11, '全世界崇敬神明，我却忙着斩神', '准提也是佛祖', '1669674', 'https://cdn.wtzw.com/bookimg/public/images/cover/0f28/7043de0b4b721b35a700981ba0f9876b_360x480.jpg', '2024-09-03 18:21:58', '2024-09-03 18:21:58');
INSERT INTO `browse_history` VALUES (15, 'ooKQD40jkVrxB78u59-54JuyGT_E', 10, '斗破苍穹', '天蚕土豆', '23', 'http://s.damaoli.com/cover/0/23.jpg', '2024-09-03 18:22:30', '2024-09-04 10:37:28');
INSERT INTO `browse_history` VALUES (16, 'ooKQD40jkVrxB78u59-54JuyGT_E', 10, '斗破苍穹神之炎帝', '柠檬邱霞', '490', 'http://s.damaoli.com/cover/0/490.jpg', '2024-09-03 18:22:45', '2024-09-03 18:22:45');
INSERT INTO `browse_history` VALUES (17, 'ooKQD40jkVrxB78u59-54JuyGT_E', 10, '斗破苍穹之水君', '滚键盘吧', '1175', 'http://s.damaoli.com/cover/1/1175.jpg', '2024-09-03 18:23:04', '2024-09-03 18:23:13');
INSERT INTO `browse_history` VALUES (18, 'ooKQD40jkVrxB78u59-54JuyGT_E', 7, '斗破苍穹', '天蚕土豆', 'http://www.biqu5200.net,/0_844/', 'http://r.m.biqu5200.net/files/article/image/0/844/844s.jpg', '2024-09-03 18:23:46', '2024-09-03 18:23:46');
INSERT INTO `browse_history` VALUES (19, 'ooKQD40jkVrxB78u59-54JuyGT_E', 10, '悍卒斩天', '三青色', '19832', 'http://s.damaoli.com/cover/19/19832.jpg', '2024-09-03 18:24:26', '2024-09-03 18:24:26');
INSERT INTO `browse_history` VALUES (20, 'ooKQD40jkVrxB78u59-54JuyGT_E', 10, '斩月', '失落叶', '5607', 'http://s.damaoli.com/cover/5/5607.jpg', '2024-09-03 18:24:32', '2024-09-03 18:24:32');
INSERT INTO `browse_history` VALUES (21, 'ooKQD40jkVrxB78u59-54JuyGT_E', 10, '斩龙', '失落叶', '1422', 'http://s.damaoli.com/cover/1/1422.jpg', '2024-09-03 18:24:37', '2024-09-03 18:24:37');
INSERT INTO `browse_history` VALUES (22, 'ooKQD40jkVrxB78u59-54JuyGT_E', 2, '两极道主', '玖柚柠檬茶', 'http://www.shuxiang.la/book/149540/', 'http://www.shuxiang.la/files/article/image/149/149527/149527s.jpg', '2024-09-03 18:25:26', '2024-09-03 18:25:26');
INSERT INTO `browse_history` VALUES (23, 'ooKQD40jkVrxB78u59-54JuyGT_E', 11, '斗破苍穹', '天蚕土豆', '1784900', 'https://cdn.wtzw.com/bookimg/public/images/cover/f0e5/858e75634e474b95ea0d12edfbe1c610_360x480.jpg', '2024-09-04 08:57:35', '2024-09-04 11:38:29');
INSERT INTO `browse_history` VALUES (24, 'ooKQD40jkVrxB78u59-54JuyGT_E', 11, '修炼从斗破苍穹开始', '江湖有酒', '1788815', 'https://cdn.wtzw.com/bookimg/public/images/cover/f0e5/100c791c468c5a427acd3019ce175a58_360x480.jpg', '2024-09-04 10:36:06', '2024-09-04 10:36:13');
INSERT INTO `browse_history` VALUES (25, 'ooKQD40jkVrxB78u59-54JuyGT_E', 11, '斗破：从签到异火开始', '乌蒙山下', '1793005', 'https://cdn.wtzw.com/bookimg/public/images/cover/f0e5/0e481e639b79f022b6dec59b9bbb288d_360x480.png', '2024-09-04 10:37:12', '2024-09-04 10:37:12');
INSERT INTO `browse_history` VALUES (26, 'ooKQD40jkVrxB78u59-54JuyGT_E', 11, '嫂子：我真不是傻子了', '沧海残阳.', '1828458', 'https://cdn.wtzw.com/bookimg/public/images/cover/f0e5/b885ef17a9ff28bdbdbd1ced2f8f977d_360x480.jpg', '2024-09-04 11:39:24', '2024-09-07 08:20:00');
INSERT INTO `browse_history` VALUES (27, 'ooKQD47tZ_7m4AyiYl4IJxEBk_PU', 11, '太荒吞天诀', '铁马飞桥', '195631', 'https://cdn.wtzw.com/bookimg/public/images/cover/9bf3/311a201ce74a2885b41e2c95ed3ac4d2_360x480.jpg', '2024-09-04 21:25:05', '2024-09-10 19:29:50');
INSERT INTO `browse_history` VALUES (28, 'ooKQD47tZ_7m4AyiYl4IJxEBk_PU', 11, '极道剑尊', '二十七杯酒', '219040', 'https://cdn.wtzw.com/bookimg/public/images/cover/a3c6/f4beaa4175d3cca99f3a1c36ff66a222_360x480.jpg', '2024-09-04 21:26:08', '2024-09-04 21:26:08');
INSERT INTO `browse_history` VALUES (29, 'ooKQD40jkVrxB78u59-54JuyGT_E', 8, '苟住：开局长生，修仙只是副业！', '砖头闲聊 ', 'https://www.zbcxw.cn,/xiaoshuo/321371.html', 'https://www.xingxingxsw.com/files/article/image/311/311372/311372s.jpg', '2024-09-07 08:18:46', '2024-09-07 08:18:46');
INSERT INTO `browse_history` VALUES (30, 'ooKQD47tZ_7m4AyiYl4IJxEBk_PU', 11, '活着', '余华', '1774020', 'https://cdn.wtzw.com/bookimg/public/images/cover/657fa7619c2de_360x480.jpg', '2024-09-11 23:00:52', '2024-09-11 23:00:52');
INSERT INTO `browse_history` VALUES (31, 'ooKQD47tZ_7m4AyiYl4IJxEBk_PU', 8, '边城', '沈从文', 'https://www.zbcxw.cn,/xiaoshuo/29286.html', 'https://www.xingxingxsw.com/files/article/image/19/19287/19287s.jpg', '2024-09-11 23:01:44', '2024-09-11 23:01:44');
INSERT INTO `browse_history` VALUES (32, 'ooKQD47tZ_7m4AyiYl4IJxEBk_PU', 11, '成年人的世界没有容易二字', '老杨的猫头鹰', '1777804', 'https://cdn.wtzw.com/bookimg/public/images/cover/658d3ee18c8ee_360x480.jpg', '2024-09-11 23:03:50', '2024-09-11 23:03:50');

-- ----------------------------
-- Table structure for chapter_search_rule
-- ----------------------------
DROP TABLE IF EXISTS `chapter_search_rule`;
CREATE TABLE `chapter_search_rule`  (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `source_id` bigint NULL DEFAULT NULL COMMENT '书源id',
  `init_url` varchar(1024) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '初始化链接js',
  `init_data` varchar(1024) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '初始化数据js',
  `chapter_page` varchar(1024) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '获取章节页面的规则',
  `img_url` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '获取书籍封面链接的规则',
  `intro` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '获取介绍的规则',
  `chapter_list` varchar(1024) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '获取章节列表规则',
  `chapter_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '获取章节名称的规则',
  `chapter_url` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '获取章节链接的规则',
  `charset_name` char(5) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '编码: 默认utf-8',
  `next_page` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '下一页的规则',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX ```source_id```(`source_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 10 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '章节列表搜索规则表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Records of chapter_search_rule
-- ----------------------------
INSERT INTO `chapter_search_rule` VALUES (1, 2, NULL, NULL, NULL, '#fmimg>img@src', '#intro@text', '.mulu_list>li:nth-of-type(1) ~ li', 'li>a@text', '<join>li>a@href</join>', 'GBK', '.input-group-btn:last-child>a.btn.btn-default:not([disabled])@href<js>\r\nfunction getUrl() {\r\n	return baseUrl + result;\r\n}\r\ngetUrl();\r\n</js>');
INSERT INTO `chapter_search_rule` VALUES (4, 7, '<js>baseUrl + result</js>', NULL, NULL, '#fmimg>img@src', '#intro@text', '#list>dl>dt:nth-of-type(2) ~ dd', 'dd>a@text', 'dd>a@href', 'GBK', '');
INSERT INTO `chapter_search_rule` VALUES (5, 8, '<js>baseUrl + result</js>', NULL, '.button.clearfix>a:first-child@href<js>baseUrl + result</js>', '.imgBox.left>img@src', 'div.tips.clearfix + div.brief@text', '#newlist>dd', 'dd>a@text', '<join>dd>a@href</join>', 'UTF-8', NULL);
INSERT INTO `chapter_search_rule` VALUES (6, 9, '<js>baseUrl + result</js>', NULL, NULL, '', '.desc.xs-hidden@text', '#section-list>li', 'li>a@text', '<join>li>a@href</join>', 'GBK', NULL);
INSERT INTO `chapter_search_rule` VALUES (7, 10, '<js>var bid = parseInt(result);\r\nvar subPath = parseInt(bid/1000);\r\n\'http://s.nshkedu.com/api/book/detail/\' + subPath + \'/\' + bid + \'.json\';</js>', '<js>var SecretKeySpec = Java.type(\'javax.crypto.spec.SecretKeySpec\');\r\nvar IvParameterSpec = Java.type(\'javax.crypto.spec.IvParameterSpec\');\r\nvar Base64 = Java.type(\'java.util.Base64\');\r\nvar Cipher = Java.type(\'javax.crypto.Cipher\');\r\nfunction decrypt(str) {\r\n	var key = new SecretKeySpec(java.str2Bytes(\'ZKYm5vSUhvcG9IbXNZTG1pb2\'), \'DESede\');\r\n    var iv = new IvParameterSpec(java.str2Bytes(\'01234567\'));\r\n    var bytes = Base64.getDecoder().decode(str);\r\n    var cipher = Cipher.getInstance(\'DESede/CBC/PKCS5Padding\');\r\n    cipher.init(2, key, iv);\r\n    return java.bytes2Str(cipher.doFinal(bytes));\r\n}\r\ndecrypt(JSON.parse(result).data.replace(/(\\r\\n)|(\\n)|(\\r)/g,\'\'));</js>', '$.result.book_id<js>\r\nfunction getBookUrl() {\r\n	var bid = parseInt(result);\r\n	var subPath = parseInt(bid/1000);\r\n	return \'http://s.nshkedu.com/api/book/chapter/\' + subPath + \'/\' + bid + \'/list.json\';\r\n}\r\nlet url = getBookUrl();\r\nThreadLocalUtils.setCurrentUrlCache(url);\r\nurl;\r\n</js>', '$.result.book_cover', '$.result.book_brief', '<js>var SecretKeySpec = Java.type(\'javax.crypto.spec.SecretKeySpec\');\r\nvar IvParameterSpec = Java.type(\'javax.crypto.spec.IvParameterSpec\');\r\nvar Base64 = Java.type(\'java.util.Base64\');\r\nvar Cipher = Java.type(\'javax.crypto.Cipher\');\r\nfunction decrypt(str) {\r\n	var key = new SecretKeySpec(java.str2Bytes(\'ZKYm5vSUhvcG9IbXNZTG1pb2\'), \'DESede\');\r\n    var iv = new IvParameterSpec(java.str2Bytes(\'01234567\'));\r\n    var bytes = Base64.getDecoder().decode(str);\r\n    var cipher = Cipher.getInstance(\'DESede/CBC/PKCS5Padding\');\r\n    cipher.init(2, key, iv);\r\n    return java.bytes2Str(cipher.doFinal(bytes));\r\n}\r\ndecrypt(JSON.parse(result).data.replace(/(\\r\\n)|(\\n)|(\\r)/g,\'\'));</js>$.result[*]', 'chapter_name', '<join>_id</join>', 'UTF-8', NULL);
INSERT INTO `chapter_search_rule` VALUES (8, 11, '<js>sign_key=\'d3dGiJc651gSQ8w1\'\r\nparams={\'id\':result,\'imei_ip\':\'2937357107\',\'teeny_mode\':0}\r\nfunction urlEncode(param, key, encode) {  \r\n	if(param==null) return \'\';\r\n	var paramStr = \'\';\r\n	var t = typeof (param);\r\n	if (t == \'string\' || t == \'number\' || t == \'boolean\') {  \r\n		paramStr += \'&\' + key + \'=\' + ((encode==null||encode) ? encodeURIComponent(param) : param);\r\n	} else { \r\n		for (var i in param) {\r\n			var k = key == null ? i : key + (param instanceof Array ? \'[\' + i + \']\' : \'.\' + i);\r\n			paramStr += urlEncode(param[i], k, encode);\r\n		}\r\n	}\r\n	return paramStr;\r\n};\r\nparamSign=String(java.md5Encode(Object.keys(params).sort().reduce((pre,n)=>pre+n+\'=\'+params[n],\'\')+sign_key))\r\nparams[\'sign\']=paramSign\r\n\'https://api-bc.wtzw.com/api/v4/book/detail?\'+urlEncode(params)</js>', '', '$.data.book.id<js>sign_key=\'d3dGiJc651gSQ8w1\'\r\nparams={\'id\':result}\r\nfunction urlEncode(param, key, encode) {\r\n	if(param==null) return \'\';\r\n	var paramStr = \'\';\r\n	var t = typeof (param);\r\n	if (t == \'string\' || t == \'number\' || t == \'boolean\') {\r\n		paramStr += \'&\' + key + \'=\' + ((encode==null||encode) ? encodeURIComponent(param) : param);\r\n	} else {\r\n		for (var i in param) {\r\n			var k = key == null ? i : key + (param instanceof Array ? \'[\' + i + \']\' : \'.\' + i);\r\n			paramStr += urlEncode(param[i], k, encode);\r\n		}\r\n	}\r\n	return paramStr;\r\n};\r\nparamSign=String(java.md5Encode(Object.keys(params).sort().reduce((pre,n)=>pre+n+\'=\'+params[n],\'\')+sign_key))\r\nparams[\'sign\']=paramSign\r\n\'https://api-ks.wtzw.com/api/v1/chapter/chapter-list?\'+urlEncode(params);</js>', '$.data.book.image_link', '$.data.book.intro', '$.data.chapter_lists', 'title', '<join>id</join>', 'UTF-8', NULL);
INSERT INTO `chapter_search_rule` VALUES (9, 12, '<js>\'https://api5-normal-lf.fqnovel.com/reading/bookapi/multi-detail/v/?aid=1967&iid=1&version_code=999&book_id=\' + result</js>', NULL, '<js>\r\ntempUrl = currentUrl.split(\'/\').pop();\r\nidMatch = tempUrl.match(/book_id=([^&]*)/);\r\nid = idMatch ? idMatch[1] : null;\r\n\'https://novel.snssdk.com/api/novel/book/directory/list/v1/?device_platform=android&version_code=600&novel_version=&app_name=news_article&version_name=6.0.0&app_version=6.0.0aid=520&channel=1&device_type=landseer&os_api=25&os_version=10&book_id=\'+id\r\n</js>', '$.data[0].thumb_url', '$.data[0].abstract', '<js>function spArr(arr, num){\r\n	let newArr = []\r\n	for(let i = 0; i < arr.length;){\r\n		newArr.push(arr.slice(i, i += num))\r\n	}\r\n	return newArr\r\n}\r\nlet res = JSON.parse(result).data\r\nlet item_list = spArr(res[\'item_list\'], 100)\r\nlet array = []\r\nlet book_id = res.book_info.book_id;\r\nfor(let i = 0; i < item_list.length; i ++){\r\n	let response = java.ajaxGet(\'https://novel.snssdk.com/api/novel/book/directory/detail/v1/?item_ids=\'+item_list[i]);\r\n	if((book_id==\'7182286100432423976\') && (item_list[i].includes(\'7211874965795602984\'))){\r\n		response = response.replace(\'\\\\微笑\',\'😊\');\r\n	}\r\n	let data = JSON.parse(response).data\r\n	data.forEach((x) => {\r\n		array.push({\r\n			name: x.title,\r\n			url: \'https://novel.snssdk.com/api/novel/book/reader/full/v1/?item_id=\'+x.item_id+\'&aid=2329\'\r\n		})\r\n	})\r\n}\r\nJSON.stringify(array)</js>$', 'name', 'url', 'UTF-8', NULL);

-- ----------------------------
-- Table structure for explore_search_rule
-- ----------------------------
DROP TABLE IF EXISTS `explore_search_rule`;
CREATE TABLE `explore_search_rule`  (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `source_id` bigint NULL DEFAULT NULL COMMENT '书源id',
  `charset_name` char(5) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '编码: 默认utf-8',
  `category_info` varchar(3072) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '分类json数据',
  `book_list` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '获取书籍列表的规则',
  `book_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '获取书名的规则',
  `book_url` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '获取书籍链接的规则',
  `author` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '获取作者名称的规则',
  `last_chapter` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '获取最新章节名称的规则',
  `last_chapter_url` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '获取最新章节链接的规则',
  `update_time` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '获取更新时间的规则',
  `img_url` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '获取书籍封面链接的规则',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX ```source_id```(`source_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 10 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '发现搜索规则表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Records of explore_search_rule
-- ----------------------------
INSERT INTO `explore_search_rule` VALUES (1, 2, 'GBK', '[{\"name\":\"玄幻\",\"url\":\"http://www.shuxiang.la/fenlei/1_<page>%s</page>/\"},{\"name\":\"科幻\",\"url\":\"http://www.shuxiang.la/fenlei/6_<page>%s</page>/\"},{\"name\":\"修真\",\"url\":\"http://www.shuxiang.la/fenlei/2_<page>%s</page>/\"},{\"name\":\"都市\",\"url\":\"http://www.shuxiang.la/fenlei/3_<page>%s</page>/\"},{\"name\":\"历史\",\"url\":\"http://www.shuxiang.la/fenlei/4_<page>%s</page>/\"},{\"name\":\"网游\",\"url\":\"http://www.shuxiang.la/fenlei/5_<page>%s</page>/\"}]', '#mm_14>ul>li:gt(0)', '.sp_2>a@text', '.sp_2>a@href', '.sp_4@text', '.sp_3>a@text', '.sp_3>a@href', '.sp_6@text', NULL);
INSERT INTO `explore_search_rule` VALUES (7, 8, 'UTF-8', '[{\"name\":\"默认\",\"url\":\"https://www.zbcxw.cn/fenlei/0_0_0_0_0_<page>%s</page>.html\"},{\"name\":\"科幻\",\"url\":\"https://www.zbcxw.cn/fenlei/6_0_0_0_0_<page>%s</page>.html\"},{\"name\":\"穿越\",\"url\":\"https://www.zbcxw.cn/fenlei/1_0_0_0_0_<page>%s</page>.html\"},{\"name\":\"仙侠\",\"url\":\"https://www.zbcxw.cn/fenlei/2_0_0_0_0_<page>%s</page>.html\"},{\"name\":\"游戏\",\"url\":\"https://www.zbcxw.cn/fenlei/5_0_0_0_0_<page>%s</page>.html\"},{\"name\":\"悬疑\",\"url\":\"https://www.zbcxw.cn/fenlei/7_0_0_0_0_<page>%s</page>.html\"}]', '.search-order>.con>ul>li', '.freeABoxsCenter.left>.font1>a@text', '.freeABoxsCenter.left>.font1>a@href', '.freeABoxsCenter.left>.font2@text##\\|\\s*.*', '.font4.clearfix>a@text', '.font4.clearfix>a@href<js>\r\nfunction getUrl() {\r\n	return baseUrl + result;\r\n}\r\ngetUrl();\r\n</js>', '.font4.clearfix>.s2@text', '.freeABoxsLeft.left>a>img@data-original');
INSERT INTO `explore_search_rule` VALUES (8, 9, 'GBK', '[{\"name\":\"都市\",\"url\":\"https://www.sewenwang.top/list/1/<page>%s</page>.html\"},{\"name\":\"乱伦\",\"url\":\"https://www.sewenwang.top/list/2/<page>%s</page>.html\"},{\"name\":\"武侠\",\"url\":\"https://www.sewenwang.top/list/3/<page>%s</page>.html\"},{\"name\":\"校园\",\"url\":\"https://www.sewenwang.top/list/4/<page>%s</page>.html\"},{\"name\":\"玄幻\",\"url\":\"https://www.sewenwang.top/list/5/<page>%s</page>.html\"},{\"name\":\"言情\",\"url\":\"https://www.sewenwang.top/list/6/<page>%s</page>.html\"}]', '.txt-list.txt-list-row5>.item', '.image>a>img@alt', '.image>a@href', '.image>a>img@alt', NULL, NULL, NULL, '');
INSERT INTO `explore_search_rule` VALUES (9, 11, 'UTF-8', '[\r\n	{\r\n		\"name\": \"都市\",\r\n		\"url\": \"https://www.baidu.com/category/gender=2&category_id=203&need_filters=1&page=<page>%s</page>&need_category=1\"\r\n	},\r\n	{\r\n		\"name\": \"异能\",\r\n		\"url\": \"https://www.baidu.com/category/gender=2&category_id=219&need_filters=1&page=<page>%s</page>&need_category=1\"\r\n	},\r\n	{\r\n		\"name\": \"玄幻\",\r\n		\"url\": \"https://www.baidu.com/category/gender=2&category_id=202&need_filters=1&page=<page>%s</page>&need_category=1\"\r\n	},\r\n	{\r\n		\"name\": \"武侠\",\r\n		\"url\": \"https://www.baidu.com/category/gender=2&category_id=205&need_filters=1&page=<page>%s</page>&need_category=1\"\r\n	},\r\n	{\r\n		\"name\": \"奇异\",\r\n		\"url\": \"https://www.baidu.com/category/gender=2&category_id=204&need_filters=1&page=<page>%s</page>&need_category=1\"\r\n	},\r\n	{\r\n		\"name\": \"文学\",\r\n		\"url\": \"https://www.baidu.com/category/gender=2&category_id=243&need_filters=1&page=<page>%s</page>&need_category=1\"\r\n	}\r\n]<js>\r\ngender=currentUrl.match(/gender=(\\d+)/)?currentUrl.match(/gender=(\\d+)/)[1]:\'\'\r\ncategory_id=currentUrl.match(/category_id=(\\d+)/)?currentUrl.match(/category_id=(\\d+)/)[1]:\'\'\r\nneed_filters=currentUrl.match(/need_filters=(\\d+)/)?currentUrl.match(/need_filters=(\\d+)/)[1]:\'\'\r\npage=currentUrl.match(/page=(\\d+)/)?currentUrl.match(/page=(\\d+)/)[1]:\'\'\r\nneed_category=currentUrl.match(/need_category=(\\d+)/)?currentUrl.match(/need_category=(\\d+)/)[1]:\'\'\r\ntag_id=currentUrl.match(/tag_id=(\\d+)/)?currentUrl.match(/tag_id=(\\d+)/)[1]:\'\'\r\nsign_key=\'d3dGiJc651gSQ8w1\'\r\nfunction urlEncode(param, key, encode) {\r\n	if(param==null) return \'\';\r\n	var paramStr = \'\';\r\n	var t = typeof (param);\r\n	if (t == \'string\' || t == \'number\' || t == \'boolean\') {\r\n		paramStr += \'&\' + key + \'=\' + ((encode==null||encode) ? encodeURIComponent(param) : param);\r\n	} else {\r\n		for (var i in param) {\r\n			var k = key == null ? i : key + (param instanceof Array ? \'[\' + i + \']\' : \'.\' + i);\r\n			paramStr += urlEncode(param[i], k, encode);\r\n		}\r\n	}\r\n	return paramStr;\r\n};\r\nfunction category() {\r\n	params={\'gender\':gender,\'category_id\':category_id,\'need_filters\':need_filters,\'page\':page,\'need_category\':need_category}\r\n	params[\'sign\']=String(java.md5Encode(Object.keys(params).sort().reduce((pre,n)=>pre+n+\'=\'+params[n],\'\')+sign_key))\r\n	url=\'https://api-bc.wtzw.com/api/v4/category/get-list?\'+urlEncode(params)\r\n	return url\r\n};\r\nfunction tag() {\r\n	params={\'gender\':gender,\'need_filters\':need_filters,\'page\':page,\'tag_id\':tag_id}\r\n	params[\'sign\']=String(java.md5Encode(Object.keys(params).sort().reduce((pre,n)=>pre+n+\'=\'+params[n],\'\')+sign_key))\r\n	url=\'https://api-bc.wtzw.com/api/v4/tag/index?\'+urlEncode(params)\r\n	return url\r\n};\r\nlet url = \'\';\r\nif(currentUrl.match(/category/)){\r\n	url = category();\r\n}else {\r\n	url = tag();\r\n}\r\nurl;</js>', '$.data.books[*]', 'title', 'id', 'author', NULL, NULL, NULL, 'image_link');

-- ----------------------------
-- Table structure for info_purify_rule
-- ----------------------------
DROP TABLE IF EXISTS `info_purify_rule`;
CREATE TABLE `info_purify_rule`  (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL,
  `is_regex` tinyint NULL DEFAULT NULL,
  `is_enabled` tinyint NULL DEFAULT NULL,
  `pattern` varchar(3072) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL,
  `replacement` varchar(4096) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL,
  `sort` int NULL DEFAULT NULL,
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 21 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '净化规则表' ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of info_purify_rule
-- ----------------------------
INSERT INTO `info_purify_rule` VALUES (1, '#01 数字标题#JS', 1, 0, '^第[零〇一二三四五六七八九十百千两]{1,7}[章节]|(?i)(?<=\\w\\W{0,3})[\\(\\[\\{（［｛【](?=\\S{0,18}(?:[更谢祝票盟章]|求\\w{0,4}[订推藏]|推荐|恭喜|快乐|合[一1]|[千万KW]字|\\d[KW]|\\d/\\d))\\S{0,19}$', '@js:if (result.slice(0,1)==\"第\") {\nresult.replace(/(第(?=[十百千])|千[零〇]?(?=十))/g,\"$1一\").replace(/(千)(?=[章节])/g,\"$1零零零\").replace(/(百)(?=[章节])/g,\"$1零零\").replace(/(十(?=[章节])|千(?=零[一二三四五六七八九][章节]|[一二三四五六七八九]十))/g,\"$1零\").replace(/[千百十]/g,\"\").replace(/零|〇/g,\"0\").replace(/一/g,\"1\").replace(/二|两/g,\"2\").replace(/三/g,\"3\").replace(/四/g,\"4\").replace(/五/g,\"5\").replace(/六/g,\"6\").replace(/七/g,\"7\").replace(/八/g,\"8\").replace(/九/g,\"9\").replace(/(第)(?=\\d[章节])/g,\"$100\").replace(/(第)(?=\\d\\d[章节])/g,\"$10\")\n}\nelse{\"\"}', 1);
INSERT INTO `info_purify_rule` VALUES (2, '#02 全角字符#JS', 1, 0, '[０-９Ａ-Ｚａ-ｚ＜／＞［］｛｝＋＝＼＠＃％＆＄＾￥～]|[\\(\\)､｡｢｣「」『』]|(?<!\\d)\\b[．\\.]\\b(?!\\d)(?=(?:[A-Z][a-zA-Z]{0,9}[．\\.·]){0,2}[\\u4e00-\\u9fcc])|(?<![∶︰])[∶︰](?![∶︰])', '@js:R=result;\nR==\"０\"?\"0\":\nR==\"１\"?\"1\":\nR==\"２\"?\"2\":\nR==\"３\"?\"3\":\nR==\"４\"?\"4\":\nR==\"５\"?\"5\":\nR==\"６\"?\"6\":\nR==\"７\"?\"7\":\nR==\"８\"?\"8\":\nR==\"９\"?\"9\":\nR==\"Ａ\"?\"A\":\nR==\"Ｂ\"?\"B\":\nR==\"Ｃ\"?\"C\":\nR==\"Ｄ\"?\"D\":\nR==\"Ｅ\"?\"E\":\nR==\"Ｆ\"?\"F\":\nR==\"Ｇ\"?\"G\":\nR==\"Ｈ\"?\"H\":\nR==\"Ｉ\"?\"I\":\nR==\"Ｊ\"?\"J\":\nR==\"Ｋ\"?\"K\":\nR==\"Ｌ\"?\"L\":\nR==\"Ｍ\"?\"M\":\nR==\"Ｎ\"?\"N\":\nR==\"Ｏ\"?\"O\":\nR==\"Ｐ\"?\"P\":\nR==\"Ｑ\"?\"Q\":\nR==\"Ｒ\"?\"R\":\nR==\"Ｓ\"?\"S\":\nR==\"Ｔ\"?\"T\":\nR==\"Ｕ\"?\"U\":\nR==\"Ｖ\"?\"V\":\nR==\"Ｗ\"?\"W\":\nR==\"Ｘ\"?\"X\":\nR==\"Ｙ\"?\"Y\":\nR==\"Ｚ\"?\"Z\":\nR==\"ａ\"?\"a\":\nR==\"ｂ\"?\"b\":\nR==\"ｃ\"?\"c\":\nR==\"ｄ\"?\"d\":\nR==\"ｅ\"?\"e\":\nR==\"ｆ\"?\"f\":\nR==\"ｇ\"?\"g\":\nR==\"ｈ\"?\"h\":\nR==\"ｉ\"?\"i\":\nR==\"ｊ\"?\"j\":\nR==\"ｋ\"?\"k\":\nR==\"ｌ\"?\"l\":\nR==\"ｍ\"?\"m\":\nR==\"ｎ\"?\"n\":\nR==\"ｏ\"?\"o\":\nR==\"ｐ\"?\"p\":\nR==\"ｑ\"?\"q\":\nR==\"ｒ\"?\"r\":\nR==\"ｓ\"?\"s\":\nR==\"ｔ\"?\"t\":\nR==\"ｕ\"?\"u\":\nR==\"ｖ\"?\"v\":\nR==\"ｗ\"?\"w\":\nR==\"ｘ\"?\"x\":\nR==\"ｙ\"?\"y\":\nR==\"ｚ\"?\"z\":\nR==\"＜\"?\"<\":\nR==\"／\"?\"/\":\nR==\"＞\"?\">\":\nR==\"［\"?\"[\":\nR==\"］\"?\"]\":\nR==\"｛\"?\"{\":\nR==\"｝\"?\"}\":\nR==\"＋\"?\"+\":\nR==\"＝\"?\"=\":\nR==\"＼\"?\"\\\\\\\\\":\nR==\"＠\"?\"@\":\nR==\"＃\"?\"#\":\nR==\"％\"?\"%\":\nR==\"＆\"?\"&\":\nR==\"＄\"?\"\\\\$\":\nR==\"＾\"?\"\\\\^\":\nR==\"￥\"?\"¥\":\nR==\"～\"?\"~\":\nR==\"(\"?\"（\":\nR==\")\"?\"）\":\nR==\"､\"?\"、\":\nR==\"｡\"?\"。\":\nR==\"｢\"?\"“\":\nR==\"｣\"?\"”\":\nR==\"「\"?\"“\":\nR==\"」\"?\"”\":\nR==\"『\"?\"‘\":\nR==\"』\"?\"’\":\nR==\"．\"?\"ꔷ\":\nR==\".\"?\"ꔷ\":\nR==\"∶\"?\"：\":\nR==\"︰\"?\"：\":\nR', 2);
INSERT INTO `info_purify_rule` VALUES (3, '#03 其他字符#JS', 1, 0, '(?mi)(?<=^(?:\\w\\w)?(?:简介|介绍|概要|作者|角色|人物|说明|资料|百科|大全|[档方文]案|日志|面板|列表|公告|通知|广播|任务)|如下)\\b$|(?<=[说问]道)(?=“)(?!“\\w{1,9}”)|\\.{3,}|·{3,}|\\b·\\b|．(?!(?<=\\d．)\\d)|(?<=[\\u4e00-\\u9fcc][\\w\\-]{0,11}[%》]?)(?!ꔷ\\w{1,9}[ꔷ·]|\\.\\.)[ꔷ\\.](?<![ꔷ·]\\w{1,9}ꔷ)(?=$|[“”‘’＂（）【】《》]|\\w?(?<=[ꔷ\\.你我他她它您妳咱人的请怎这最很再有就是与而虽但即既啊嗯呢呵哦噢喔了]{2}))|(?<=\\d)：(?=\\d{1,2}\\D)|[:;,](?![:;,]|(?<=[:;,]{2})|(?<=\\d:)\\d|(?<=\\d,)\\d{3}\\D)(?=\\h?[“]?\\w{0,9}?[\\u4e00-\\u9fcc]|(?<=[\\u4e00-\\u9fcc]\\w{0,9}?\\W))|(?<![\\/<>=][^\\n\\/<>=]{0,9})\"(?!\"|[^\\n\\/<>=]{0,9}[\\/<>=])(?=(?<=[\\u4e00-\\u9fcc]\\w{0,3}\\W{1,6})|\\W{0,6}\\w{0,3}[\\u4e00-\\u9fcc])|(?<=\\w[\\u4e00-\\u9fcc，])—(?=[\\u4e00-\\u9fcc，])|(?<=‘\\w{1,7})[，\'](?=(?<=\')|[，。；！？—…\\-])|(?<=[：:]\\n?)[”’＂](?=\\S)|(?<=”[\\w，、。]{0,19}\\n)[”]|(?<=[\\n”])[”](?=[\\w，、。！？]{1,19}”)|[“](?=(?<=[\\n\\w，、]“\\w{1,6}[%]?“)[：；\\w，、]|(?<=[\\w。！？—…～~]“)$|\\n?“|[\\w，]{1,19}[，：:]\\n?“|\\w+[说道][。]\\n)|^!+|^\\?+|(?:!+(?=!)|!|\\?+(?=\\?)|\\?)(?=(?<=[\\u4e00-\\u9fcc]\\S{1,9})|\\S{0,9}[\\u4e00-\\u9fcc])|[＊\\*]+(?=[＊\\*]{3})|＊|\\*|(?<=[\\u4e00-\\u9fcc]□?)□|(?<=[\\u4e00-\\u9fcc]×{0,2})×', '@js:R=result;\nR==\"\"?\"：\":\nR==\"·\"?\"ꔷ\":\nR==\"．\"?\"。\":\nR==\".\"?\"。\":\nR==\"ꔷ\"?\"。\":\nR==\"：\"?\":\":\nR==\":\"?\"：\":\nR==\";\"?\"；\":\nR==\",\"?\"，\":\nR==\'\"\'?\'＂\':\nR==\"—\"?\"一\":\nR==\"，\"?\"’\":\nR==\"\'\"?\"’\":\nR==\"”\"?\"“\":\nR==\'＂\'?\"“\":\nR==\"’\"?\"‘\":\nR==\"“\"?\"”\":\nR==\"×\"?\"ꁘ\":\nR==\"□\"?\"ꁘ\":\nR.slice(0,1)==\"*\"?\"ꁘ\":\nR.slice(0,1)==\"＊\"?\"ꁘ\":\nR.slice(0,1)==\"?\"?\"？\":\nR.slice(0,1)==\"!\"?\"！\":\nR.slice(0,3)==\"...\"?\"…\":\nR.slice(0,3)==\"···\"?\"…\":\nR', 3);
INSERT INTO `info_purify_rule` VALUES (4, '#04 星号修复#JS', 1, 0, '(?i)[\\u4e00-\\u9fcc]{0,4}((?<![\\dꁘ]\\h?|ꁘ\\S)ꁘ{1,3}(?!\\h?[\\dꁘ]|\\Sꁘ)(?=(?<=[\\u4e00-\\u9fcc]ꁘ{1,3})|[\\u4e00-\\u9fcc])|(?<![A-Z\\d\"][\\h\\-\\.~]{0,3})(?:b[iī]|(?:b[oó]){1,2}|ch[eé]ng\\h?r[eé]n|c[aà]o|ch[aāáà]o?|chu[aá]ng|ch[uū]n|(?:d[aàoò]ng){1,2}|di[aǎ]o|d[uú]|gu[iī]|j[iī][uǔ]?|j[iī]ng|ji[aā][on]|[l1][oò]?[uūù]|(?:l[uǔ][oǒ]){1,2}|(?:n[aǎeè]i){1,2}|n[oò]ng|nv|pi[aá]o|q[ií]ng|(?:r[iì]){1,2}|r[uǔ]|r[oò]u|s[aā]o|(?:s[eèiī]){1,2}|sh[eèē]n?|t[iǐ]|t[iǐ]ng|t[oó]u|(?<!he\\W{0,3})t[uú][niǐ]|x[iì][oō]?ng|xu[eé]|y[aáiīíì]ng?|y[eèuù]|zh[eè]ng(?:f[uǔ])?|(?<=大)6(?![%倍岁])|(?<=[吸贩缉])D|D(?=[瘾品贩枭])|[FHMRZ](?=国)|H(?=[文书片版色])|(?<=[你他])M(?=的)|R(?=(?<=狗R)的|本[\\W国的之人]|了狗)|(?<=[我卧强装傻牛])X(?![光博幻战射基病档计型\\-]|先生|女士)|(?<=[装傻牛怂懵撕阴])(?:AC|B|13)|(?<=[有点儿])(?:AC|B)(?=数)|(?<=[瞎再别直停])BB|B(?=格)|J[BC]|(?<=[大小的])JJ|J(?=方)|LSP|MB(?![大])|M[DM]|MBD|MDZZ|MLGBD?|MMP|NB|NM[BD]|PLMM|QJ|RMB|RNM|SB|(?<=[你我都是谁真神别又太瞎这就还去])TM|TMD|T?NND|[VW]X|\\BXP(?![值操系])|XZ|YD|ZF)(?![\\h\\-\\.~]{0,3}[A-Z\\d\"])(?=(?<=[\\u4e00-\\u9fcc][\\w\\h]{1,15})|[，、。：；！？—…~]{0,6}\\n?[\\u4e00-\\u9fcc]))[\\u4e00-\\u9fcc]{0,4}|fꁘꁘk|(?<=狗)曰(?=的)|孛力|[衣衤]卜(?!算)|扌喿|口丩|口申|口今(?![天日后])|衤果|石更\\b|女眉\\b|谷欠(?=\\b|[望念])|弓虽(?!然|[\\w，]{1,9}但)|女干(?=\\b|(?<=[无大]\\w\\w)[不大]|(?<=[内汉]\\w\\w)[^部脆]|后杀|巨滑|[邪佞臣雄夫商贼细计诈杀案情罪犯人])', '@js:R=result;\nfunction M(x) {return R.search(x)==-1?false:true};\nfunction N(x,y) {return R.replace(y?y:z,x)};\n//🎈替换ꁘꁘ\nif ( M(\"ꁘ\") ) {\n	z=/ꁘ+/;\n	M(/[你我谁真神这]ꁘꁘꁘ[谁这敢晦是知就]/)?N(\"他妈的\"):\n	M(/ꁘꁘꁘ/)?R:\n	M(/(?:十[之有]|一九)ꁘꁘ|ꁘꁘ(?:不离十|十[年岁]|岁[的大])/)?N(\"八九\"):\n	M(/ꁘꁘ崽子/)?N(\"小逼\"):\n	M(/勃ꁘꁘ来/)?N(\"勃起\"):\n	M(/[四秦山]ꁘꁘ[遍通及]/)?N(\"川普\"):\n	M(/ꁘꁘ(?:裸|[着的]\\w{0,2}[身躯胴])|[全浑半上下]身ꁘꁘ/)?N(\"赤裸\"):\n	M(/(?:[驱天种][鬼魔]|吸星|[化传][功送]|击地|[解附炼][魂体]|索尼)ꁘꁘ|ꁘꁘ[官院师]|[强壮盛两三四五六七八九十百具]ꁘꁘ[力诀器术印则会杖门]/)?N(\"大法\"):\n	M(/突ꁘꁘ况/)?N(\"发情\"):\n	M(/[心秘道功阵办无说设]ꁘꁘ[转回流番]/)?N(\"法轮\"):\n	M(/忍者神ꁘꁘ|乌ꁘꁘ[上部顶]/)?N(\"龟头\"):\n	M(/([帝王公党敌盟中华俄美英法德韩倭米他我本]|共和|联合|灯塔)ꁘꁘ[队阵旗舰方官人务]/)?N(\"国军\"):\n	M(/名ꁘꁘ[天水秋风]/)?N(\"叫春\"):\n	M(/[出入门窗道路洞梯铁村站亲]ꁘꁘ(?:[给出手战火锋易钱通警罚换谈流代替心朋往配]|\\w{0,2}[费款单])/)?N(\"口交\"):\n	M(/ꁘꁘ(?:精神|日记|同志)|[学活]ꁘꁘ/)?N(\"雷锋\"):\n	M(/[透泄]ꁘꁘ[儿内消]/)?N(\"漏点\"):\n	M(/ꁘꁘ\\w{0,2}(?:一[丝副抹]|马脚|嘴脸|破绽|笑容)/)?N(\"露出\"):\n	M(/[全半赤]ꁘꁘ[人性郎子尸]/)?N(\"裸女\"):\n	M(/德国ꁘꁘ|ꁘꁘ(?:德国|\\w?集中营)/)?N(\"纳粹\"):\n	M(/他ꁘꁘ[的滴个]/)?N(\"奶奶\"):\n	M(/[朝向队园场室域]\\w{1,2}ꁘꁘ[来去击杀中]/)?N(\"内射\"):\n	M(/[此仙妖魔]ꁘꁘ[险谋沉魂]/)?N(\"女阴\"):\n	M(/生[孩儿]子没ꁘꁘ/)?N(\"屁眼\"):\n	M(/ꁘꁘ(?:关系|凡胎|交易|上的)/)?N(\"肉体\"):\n	M(/[末刑判]ꁘꁘ近/)?N(\"日逼\"):\n	M(/你个[大臭]?ꁘꁘ/)?N(\"傻逼\"):\n	M(/[发点齐速注]ꁘꁘ[准度确通神]/)?N(\"射精\"):\n	M(/(?:[神魔妖禽宠]|[将跟把与和]\\w{1,3})ꁘꁘ[给出手战火锋易钱通警罚换谈流替心朋往配缠]/)?N(\"兽交\"):\n	M(/[你我谁真神这]ꁘꁘ的/)?N(\"他妈\"):\n	M(/[具大总本]ꁘꁘ[置于]/)?N(\"体位\"):\n	M(/东躲ꁘꁘ/)?N(\"西藏\"):\n	M(/(?:[巢墓洞窍]|百会|神庭|膻中|气海|丹田|天[突柱]|涌泉|[风曲]池|灵台|[周通]天)ꁘ{2,3}/)?N(\"穴内\"):\n	M(/[太玄]ꁘꁘ[体尊韵人]/)?N(\"阴道\"):\n	M(/奸夫ꁘꁘ|奸ꁘꁘ女/)?N(\"淫妇\"):\n	M(/[饱暖温]思ꁘꁘ/)?N(\"淫欲\"):\n	M(/(?:求生|纯粹|[强浓]烈|对\\w{1,2}的)的?ꁘꁘ/)?N(\"欲望\"):\n	M(/亲ꁘꁘ[问劳]|聊以ꁘꁘ/)?N(\"自慰\"):\n	M(/ꁘꁘ[掉扰干净爹]/i)?N(\"被干\"):\n	M(/ꁘꁘ[烦袋雀]/i)?N(\"大麻\"):\n	M(/ꁘꁘ[隶役]/)?N(\"性奴\"):\n	M(/ꁘꁘ[官材械皿]/)?N(\"性器\"):\n	M(/ꁘꁘ(?:豆|情的)/i)?N(\"做爱\"):\n	M(/\\wꁘꁘ(?:[错手发生现]|了[一几个岔错])/)?N(\"中出\"):\n	M(/fꁘꁘk/i)?N(\"uc\"):\n	M(/ꁘꁘ/)?R:\n	M(/催ꁘ[药水]/)?N(\"情\"):\n	M(/[装傻牛撕阴]ꁘ/)?N(\"逼\"):\n	M(/[曹我体早午]ꁘ|ꁘ[场练蛋纵控作盘]/)?N(\"操\"):\n	M(/ꁘ丝/)?N(\"屌\"):\n	R\n}\n//🎈替换pinyin\nelse if ( M(/[a-zA-Z6]/) ) {\n	z=/[^\\n\\u4e00-\\u9fcc]+/;\n	M(/ch[eé]ng\\h?r[eé]n/i)?N(\"成人\"):\n	M(/bó|bo[发起然朗]/i)?N(\"勃\",/b[oó]/g):\n	M(/b[oō]/i)?N(\"波\"):\n	M(/b[iī]/i)?N(\"逼\"):\n	M(/chu[aá]ng/i)?N(\"床\"):\n	M(/ch[aá]o/i)?N(\"潮\"):\n	M(/ch[aā]/i)?N(\"插\"):\n	M(/ch[uū]n/i)?N(\"春\"):\n	M(/c[aāà]o/i)?N(\"操\"):\n	M(/d[aà]ng/i)?N(\"荡\",/d[aà]ng/g):\n	M(/di[aǎ]o/i)?N(\"屌\"):\n	M(/d[oò]ng/i)?N(\"洞\"):\n	M(/d[uú]/i)?N(\"毒\"):\n	M(/gu[iī]/i)?N(\"龟\"):\n	M(/j[iī]ng/i)?N(\"精\"):\n	M(/ji[aā]n/i)?N(\"奸\"):\n	M(/ji[aā]o/i)?N(\"交\"):\n	M(/j[iī][头肉排鸭蛋汤胸腿翅巴爪眼贼窝眼毛]/i)?N(\"鸡\"):\n	M(/j[iī]/i)?N(\"激\"):\n	M(/lu[oǒ]/i)?N(\"裸\",/lu[oǒ]/g):\n	M(/lū|[l1]u[猫狗起串铁管得完个]/i)?N(\"撸\"):\n	M(/6|大[l1][uù]|[l1][uù][地军]/i)?N(\"陆\"):\n	M(/[l1][oò]?[uù]/i)?N(\"露\"):\n	M(/n[oò]ng/i)?N(\"弄\"):\n	M(/n[aǎ]i/i)?N(\"奶\",/n[aǎ]i/g):\n	M(/n[eè]i/i)?N(\"内\"):\n	M(/n[vüǚ]/i)?N(\"女\"):\n	M(/pi[aá]o/i)?N(\"嫖\"):\n	M(/q[ií]ng/i)?N(\"情\"):\n	M(/r[oò]u/i)?N(\"肉\"):\n	M(/r[uǔ]/i)?N(\"乳\"):\n	M(/r[iì]/i)?N(\"日\"):\n	M(/sh[eē]n/i)?N(\"身\"):\n	M(/sh[eè]/i)?N(\"射\"):\n	M(/s[aā]o/i)?N(\"骚\"):\n	M(/s[eè]/i)?N(\"色\",/s[eè]/g):\n	M(/s[iī]/i)?N(\"丝\",/s[iī]/g):\n	M(/t[iǐ]ng/i)?N(\"挺\"):\n	M(/t[oó]u/i)?N(\"头\"):\n	M(/tu[iǐ]/i)?N(\"腿\"):\n	M(/t[uú]n/i)?N(\"臀\"):\n	M(/t[iǐ]/i)?N(\"体\"):\n	M(/x[iī]ong/i)?N(\"胸\"):\n	M(/x[iì]ng/i)?N(\"性\"):\n	M(/xu[eé]/i)?N(\"穴\"):\n	M(/y[aá]ng/i)?N(\"阳\"):\n	M(/y[iì]ng/i)?N(\"硬\"):\n	M(/yín|[宣意手浸能奸干]yin|yin[靡威贼窝妇娃秽液棍邪巧乐]/i)?N(\"淫\"):\n	M(/y[iī]n/i)?N(\"阴\"):\n	M(/y[eè]/i)?N(\"液\"):\n	M(/y[uù]/i)?N(\"欲\"):\n	M(/zh[eè]ngf[uǔ]/i)?N(\"政府\"):\n	M(/zh[eè]ng/i)?N(\"政\"):\n	M(/MDZZ/i)?N(\"妈的智障\"):\n	M(/PLMM/i)?N(\"漂亮美眉\"):\n	M(/LSP/i)?N(\"老色批\"):\n	M(/MMP|MBD|NMB/i)?N(\"妈卖批\"):\n	M(/[NT]MD|T?NND|MLGBD/i)?N(\"他妈的\"):\n	M(/RNM/i)?N(\"日你妈\"):\n	M(/RMB/i)?N(\"人民币\"):\n	M(/MLGB|MB/i)?N(\"妈逼\"):\n	M(/MD/i)?N(\"妈的\"):\n	M(/MM/i)?N(\"美眉\"):\n	M(/NB/i)?N(\"牛逼\"):\n	M(/SB/i)?N(\"傻逼\"):\n	M(/BB/i)?N(\"哔哔\"):\n	M(/JB/i)?N(\"鸡巴\"):\n	M(/JJ/i)?N(\"鸡鸡\"):\n	M(/JC/i)?N(\"警察\"):\n	M(/QJ/i)?N(\"强奸\"):\n	M(/TM/i)?N(\"他妈\"):\n	M(/VX|WX/i)?N(\"微信\"):\n	M(/XZ/i)?N(\"西藏\"):\n	M(/XP/i)?N(\"性癖\"):\n	M(/YD/i)?N(\"淫荡\"):\n	M(/ZF/i)?N(\"政府\"):\n	M(/强X/i)?N(\"奸\"):\n	M(/[我卧]X/i)?N(\"操\"):\n	M(/AC|B|X|13/i)?N(\"逼\"):\n	M(/[你他]M的/i)?N(\"妈\"):\n	M(/M国/i)?N(\"美\"):\n	M(/H国/i)?N(\"韩\"):\n	M(/H/i)?N(\"黄\"):\n	M(/R国/i)?N(\"日本\"):\n	M(/曰|R/i)?N(\"日\"):\n	M(/D/i)?N(\"毒\"):\n	M(/J方/i)?N(\"警\"):\n	M(/Z/i)?N(\"中\"):\n	M(/F/i)?N(\"法\"):\n	R\n}\n//🎈替换汉字\nelse {\n	M(\"孛力\")?\"勃\":\n	M(/[衤衣]卜/)?\"补\":\n	M(\"扌喿\")?\"操\":\n	M(\"口丩\")?\"叫\":\n	M(\"口申\")?\"呻\":\n	M(\"口今\")?\"吟\":\n	M(\"弓虽\")?\"强\":\n	M(\"女干\")?\"奸\":\n	M(\"石更\")?\"硬\":\n	R\n}', 4);
INSERT INTO `info_purify_rule` VALUES (5, '#05 标点 空 ', 1, 1, '^\\s*null\\s*$|^[，、。：；！？…~]+\\n?|(?m)<>|\\u2028|\\u2029|\\ufeff|[\\u200b-\\u200d]|[\\ufe00-\\ufe0f]|^[~_·]+|(?<=[！？])[！？]+(?=[！？])|\\b[。—…~\\-]+(?<!\\d\\-)(?=[！？])|(?<=^[“‘]|[（【])[。，、！？—…~\\u002e]+\\b|(?<=[。！？—…]”)[，、。：！？—…\\.]+|(?<=[。！？…])[~_\\?\\!]+|[~_\\?\\!]+(?=[。！？…])|(?<=[。：；！？…~]\\n?|——)(?!(?<=[：…])\\.\\.)[，、\\.]+|[，、]+\\n?(?=[，、。：；！？…~]|——)|(?<=“[^\\n：“”‘’＂\"＇\']{0,36})(?:[‘’＂\"＇\']|$\\s+)(?=[^\\n：“”‘’＂\"＇\']{0,36}”)|\\b\\-(?=\\-\\b)|([。—…\\-~])\\1*(?=\\1\\1)|([^\\s\\w])\\2*(?=\\2{3})|(?<=([。！？—…]))$\\s+(?=\\3)|$(?=(?<=(?:[《（【]|[\\w：][“‘]|^[“‘])[\\w，、]{0,18}|\\b[说道问答忖曰]：)|(?<=[^。！？；—…][：，、])\\s+[“‘＂]|(?<=[\\u4e00-\\u9fcc])\\s+“\\w{1,7}”|\\s+[\\w，、]{0,18}[》）】]|\\s+[”’]|\\s+[\\w，、]{0,18}[。！？—…~]{0,6}[”’＂][。！？—…~]{0,6}$)\\s+|\\r(?=\\n)|^\\s+|(?<=[。：；！？—…~\\.\\-》）】])\\h+|\\h+(?=[。：；！？—…~\\n\\.\\-《（【])|\\h?[\\u2551-\\u2767〒〓&&[^╳█■□★☆◆◇◉◎●⚊⚋]]+\\h?', '', 5);
INSERT INTO `info_purify_rule` VALUES (6, '#06 标点……', 1, 1, '[\\u2025\\u2026\\u002e\\u00b7\\u0387\\u1802\\u2022\\u2024\\u2027\\u2219\\u22c5\\u22ef\\u2810\\u2e31\\u2e33\\u30fb\\u318d\\ua78f\\uff0e\\uff65]{2,}(?!(?<=\\u002e)/)|[\\u2025\\u2026\\u22ef]+|[\\u2e30\\u3002\\uff61\\uffee]{2,}|(?<=“)[。\\.]+(?=”)|(?<=[\\n\\u4e00-\\u9fcc])[\\u002e\\u00b7~]+(?:$|(?=[\\n”’＂])|(?<=[\\u4e00-\\u9fcc][~]\\b)|[。，、！？…]+)|(?<=\\w[%》]?)[，、](?=(?<![说道]，)[”’]|[】）])|[，、；（【《]+$|(?<=(?:[“‘…]|[。！？…]\\n)[叮-嚯]{1,3})[。](?=[\\n”’])|[，、](?=[”＂\"]\\n)|(?<=：“)\\B(?=”)|(?m)^[ꁘ\\h]+$|^[。．\\u002e~·]+$|(?<=^“\\w{1,9})，(?=[“”])|(?<=(?:[，、…]|：\\n)\\w{1,15}|[\\w%》](?:[”’＂】][，、]?)?[“‘＂【]\\b[\\w，、]{1,15}\\b[%》]?[”’＂】])$|(?<=\\b[%]?)(?<![\\w%》](?:[”’＂】][，、]?)?[“‘＂][^\\n]{1,15}\\b[%》]?)(?=[”’＂]$)|(?<=[\\w，、…%》]{16}\\b[%》]?)(?=[】）]$)|(?<![“][\\w\\-]{1,19})\\b(?=[”]\\w{2,15}(?:道[：，]“|[：，]“[\\w，、]{0,19}[。！？—…]))|(?<=^[“](?:不过?|[是对行好这])|[^\\w”][“][\\w，、]{0,14}[啊嗯呢呃嗨呵嘿哼咳啦哦吧的么了]|[^\\w”][“][你我他她它您妳咱的请怎这最很再有就是与而虽但即既][\\w，、]{1,14}|[。；！？—…~][\\w，、]{1,15})\\b(?=(?<=^“\\w{1,3}|[！？]\\w{1,9})”\\b|”$|”[\\w，、]{1,19}\\b(?:[：]|[说道]。$))|(?<=[^\\s：“]{16})(?<!^\\w{16,24})\\b(?=\\n\\w{1,16}\\b(?<=[\\w\\n]{22})[，。！？…])', '……', 6);
INSERT INTO `info_purify_rule` VALUES (7, '#07 标点——', 1, 1, '(?mi)(?<=^|\\w[^\\n\\w]{0,3})(?!(?<=\\d)--\\d|\\b——\\b)([\\u002d\\u2010-\\u2015\\u2212\\u2500\\u2501\\u268a\\u268b\\u2e3a\\u2e3b\\uff0d\\uff70\\uffda～~])(?:\\1+|[\\u2010-\\u2013]+|(?<=\\u2014|\\u2015)(?!\\d)|(?<=\\w[～~])\\B|(?<!\\u002d)[。，、]+)|^(?:[—\\–_×ꁘ]{2,}$|[^\\n\\wꁘ“”【】（）…]{4,}|[■◎](?=(?:\\[\\w{1,4}\\])?[\\w\\u00b7\\u318d]{1,18}$))|(?<=[\\u4e00-\\u9fcc])(?=([“‘])[^\\n“”‘’＂]{1,27}[。！？—…][”’](?:\\1|\\n)|[“‘][^\\n“”‘’＂]{29})', '——', 7);
INSERT INTO `info_purify_rule` VALUES (8, '#08 标点  ｰ  ', 1, 1, '[\\u2010-\\u2013\\u2015\\u2212\\u2500\\u2501\\u268a\\u2e3a\\u2e3b\\uff0d\\uff70\\uffda⁓~〜]|(?<!\\u2014)\\u2014(?!\\u2014)|(?<=\\d[%％年级号]?)——(?=\\d{1,4}[%％年级号》】］）\\)\\n])|(?<=\\d\\d:\\d\\d)——(?=\\d\\d:\\d\\d)', '-', 8);
INSERT INTO `info_purify_rule` VALUES (9, '#09 标点＂＂', 1, 1, '(?mi)((?<=^|[：；，、])[“＂‘＇]|(?<=\\B[”＂]\\n)^(?=[\\w，。！？]{0,30}[。！？…][”＂]$)|(?<=^|——)[‘](?=[^\\n“”‘’＂＇]{1,15}[”’]$|[\\w，、]{1,15}\\b[＂＇])|[“＂](?![“”＂])(?=(?<=[“＂]“|[”＂]＂)|[^\\n：“”＂]{1,30}[”＂]))(?<!“[^\\n“”＂]{1,40}[”‘]|’[\\w，、]{0,15}‘)(?![，、：；。！？]|(?<=“)[^\\n“”＂]{1,40}[”]|(?<=‘)[^\\n“”‘’＂＇]{1,30}\\b[%]?[’])((?:[\\w，、。；！？—…]|\\b[%×\\.\\+\\-\\/]|\\b:\\w|‘\\w+’|《\\w+》|（\\w+）|【\\w+】|＂\\w+＂|＇\\w+＇)+(?:\\n\\b[\\w，、。！？—…]+[。！？—…]){0,2})(?<![：；，、])($(?=\\n(?:\\b[\\w，、]{1,20}\\b：)?(?:“|\\1))|(?=\\1)[＂＇]|\\1$|[’＂](?=[，、](?=\\1)[“‘＂])|[“＂](?=[“])|(?<=‘\\w{1,9})[＂＇]|[“”‘’＂＇](?=$|[\\w，、。；！？—…]{0,50}(?:[\\n：]\\1|(?=\\1)[“＂]|：[“＂]|\\n[“\\w])))', '“$2”', 9);
INSERT INTO `info_purify_rule` VALUES (10, '#10 标点「」', 1, 0, '[“”‘’＂＇〈【](?![，、：；])((?<=‘)[^\\n“”‘’＂]*(?=’)|(?<=‘)[^\\n“”‘’＂]+(?=‘)(?!‘[^\\n“”‘’＂]{0,55}’)|(?<=’)(?<!‘[^\\n“”‘’＂]{0,55}’)[^\\n“”‘’＂]+(?=’)|(?<=“[^\\n“”‘’＂]{0,55}[“‘])[^\\n“”‘’＂]*(?=[”’][^\\n“”‘’＂]{0,55}”)|(?<=[\\n\\u4e00-\\u9fcc，、：；]([“”‘’＂＇]){1,2})\\w+(?![“][^\\n“”＂＇]{0,19}[”])(?=\\2)|(?<=〈)[^\\n〈〉]*(?=〉)|(?<=[^：]【)(?:[\\+\\-]?\\b[\\w，：]{1,15}\\b[\\+\\-%]?|[\\+\\-])(?=】[^\\n\\uff08：])|(?<=“)[\\w，、。]+\\b(?=”[，、。！？—…])|(?<=“)[^\\n“”‘’＂＇]{1,25}(?=”)(?=(?<=(?<!：\\n?)“[^\\n“”]{1,25}\\b[%\\+\\-]?)”\\S|(?:”[和或与及，、]?“|[^\\n“”‘’＂]){0,50}”[，、。；！？—…]|(?<=\\b“(?:”[和或与及，、]?“|[^\\n“”‘’＂]){2,50})|(?<=(?:[的着是把到出了]|[这那一][种句])“[^\\n“”]{1,25})|”\\b(?:的[^的确]|为[借藉]口|为由|[时式][的地]|之[类流内外上中下]|了[一两三几]|(?:地\\w{2})?[一两三]声\\b|(?<=\\b”)\\w{1,2}[个句首][字诗词话]|[上中下内外里后时了声值][。，：！？]|[。！？—…]{1,3}\\n)))(?<![，、：])[“”‘’＂＇〉】]', '「$1」', 10);
INSERT INTO `info_purify_rule` VALUES (11, '#11 标点【】', 1, 1, '(?m)([〔〖〘]|[\\[\\{](?!\\d{1,3}[\\]\\}])|^[“「【](?<![”」】：]\\n[“「])|(?<=[。！？]”?\\n)\\b(?=[\\u4e00-\\u9fcc]{1,7}\\n\\w{1,7}：[\\w【]))((?<![\\n“「])(?:[^\\n\\{\\}\\[\\]\\u3010-\\u3019]+|[^\\{\\}\\[\\]\\u3010-\\u3019]{0,99}?)(?![”」])|^\\w{1,7}$|(?<=「)[^\\n「」【】]+(?=」$|」：)|(?<=“)[^\\n“”【】]+(?=”：))([\\}\\]〕〗〙]|[”」](?=$|：)(?!\\n[“「【])|(?<=\\n\\[\\w{1,3}……)$|$(?=\\n\\B\\1))', '【$2】', 11);
INSERT INTO `info_purify_rule` VALUES (12, '#12 标点（）', 1, 1, '(?mi)(?:[（](?![^\\n（）]{0,24}[）])|(?<=\\S)[【])((?<=（)[^\\n（）]+(?:\\n[^\\n（）]+)?(?=\\n（)|(?<=\\w%?【)[^\\n【】（）]{1,18}(?=】$)|(?<=【)[^\\n【】（）]{1,18}(?=】[\\w，！？]{0,18}》|】(?:[^\\n【】（）]|【[^\\n【】（）]{1,18}】){0,64}】))(?:[】]|$(?=\\n（))', '（$1）', 12);
INSERT INTO `info_purify_rule` VALUES (13, '#13 净化网址', 1, 1, '(?i)<(center|font)(?:\\h(?!src\\b)|\\S)+?</\\1>|(?:[\\n<_]|[A-Z]+\\.)br/?>|(?<=[\\u4e00-\\u9fcc])/>|&\\b[A-Z;]+\\b;|(?<![A-Z])&?(nbsp|quot|amp|lt|gt);|#[A-Z][0-9A-Z]{4};|\\r\\n|\\b[记首本一]\\W?[住发书秒]\\W?[域网记]\\W?[名址站住][^\\n\\u4e00-\\u9fcc，、。；！？—…（）“”【】]+|(?<![:=]\\h?[\"\'])https?:/[/_A-Z\\d\\.\\-]+\\.(?:com|net|org|edu|x?html?|php|aspx??|txt|json|zip|cn|cc|tw|hk|us|in|info|pro|xyz|club|work|space)\\b(?:/[/_A-Z\\d\\-]*)?(?![/_A-Z\\d\\-\\.\\?])|(?m)^\\b[a-z0-9\\.]{3,21}\\b\\.[a-z]{2,4}/?(?:\\n|$)|w(?:\\?_/[a-z\\d\\.]){6,18}(?<=m)', '', 13);
INSERT INTO `info_purify_rule` VALUES (14, '#14 净化标点', 1, 1, '(?<=[（【，、：]|[。；！？—…][”」]?)(?![！？—…](?<=[：][！？…]|[！？]{2}|——|……))[，、。：；！？—…]+|(?<=\\B\\n|“)[，、。！？…]+(?=[\\w“「（【《])|(?<=…)\\n…+|\\b[，、。：；]+(?=[）】][，、。：；！？…])|(?<=^|\\n)[？]+(?=[“「《\\w])|(?<=\\b「[^\\n「」]{1,16})[！—…]+\\B(?=」\\b)|(?<=”\\n?)[“”＂‘’]+(?=\\n?“)|(?<=”)[\"＂](?=\\n|$)|\\b[：](?=「\\b[\\w，！…]{1,9}」(?:后\\b|的声))|(?<=\\n)[^\\w「」…●]+$', '', 14);
INSERT INTO `info_purify_rule` VALUES (15, '#15 净化词语', 1, 1, '<![^\\n<>]{1,20}>|(?<=\\n)[（【]\\S{1,49}[）】]$|(?<=\\n)\\W+$|\\n?（本章完）[\\s\\S]{0,150}$|\\b检测到你的最新阅读[\\s\\S]{20,50}$|^[\\w：《》]{0,20}正文卷[^\\n]+\\n|^[\\u4e00-\\u9fcc]{0,15}?第\\w{1,7}[章卷](?:[^\\n\\w]\\w+){0,2}\\n|(?<=\\n)[\\u4e00-\\u9fcc]{0,15}?第\\w{1,7}[章卷](?:[^\\n\\w]\\w+){0,2}$|(?mi)^([^\\n\\w]{2,3})\\n+(?:更多精校|本书由)[^\\n]+(?:\\n\\1)?|^(?:([^\\s\\w]{1,2}|ꁘ{1,2})(?!\\2)\\S){4,20}(?:\\2|\\S)?$\\n?|(?:\\b\\n)?[（\\(]本章未完(?:[^\\n\\)）]+[\\)）]|[^\\n\\w]+$)(?:\\n[^\\s\\w]$|\\n(?:\\d+[\\.\\h](?!\\d)|第\\w{1,7}章)[^\\n]{0,24}$)?\\n?|(?:[（]下一页更精彩！[）]|(?:看|为您提供\\w+的)《\\b[\\w，：]{1,20}\\b》最快更新[^\\n]+)$(?:\\n[^\\n]+$){1,6}(?<=\\n(?:[『“]章节有误|域名更换|「」)[^\\n]{0,25}$)|^\\w+?正文卷|^\\w{0,7}(?:文[库网網]|[燃然雅]文[网網吧]?|(?:文学|小说|[阅悦快]读|[读看追探]书)[网網]?|书[库亭阁屋坊盟吧]|加入书签|免费读)(?:App)?(?:\\n|$)|(?<=^|[“]|[。！？—…][”）】]?)(?:请百度搜索|百度搜索(?:\\w+…{0,2}(?=”)|\\S{0,11}@)|请大家搜索[（]|顶点X|顶点小说|思路客|笔趣阁|小说网|@无限好文|@(?:[^\\n\\w]|ꁘ){0,6}$|@[^\\n\\w]?\\w{2,4}首发|(?:记住|最新)网址|首发更新|最快更新[无热]|更新最快|有梯子的书友加电报|网站即将关闭\\W下载爱阅|温馨提示\\W(?:浏\\W?览\\W?器|为防止内容获取不全)|浏[\\Wꁘꔷ]览[\\Wꁘꔷ]器[\\Wꁘꔷ]搜|无[\\Wꁘꔷ]{0,3}错[\\Wꁘꔷ]{0,3}更[\\Wꁘꔷ]{0,3}新|\\d*@?精[\\Wꁘꔷ]{0,3}华[\\Wꁘꔷ]{0,4}书[\\Wꁘꔷ]{0,3}阁|@\\w+c[ꁘꔷ]o[ꁘꔷ]m|(?:\\b\\w{1,9}[網网])?[wωщш]{3})[^\\n“”]{0,25}[^\\n“”]{0,15}?(?=$|[“”]|(?<=……|[。！）]|c[ꁘꔷ]o[ꁘꔷ]m))|(?<=[。！？”（）【】])\\bPS\\d?[：:\\.][^\\n“”（）【】]+(?=[”）】]|$)|^(?:目\\h?录|返回[主总]?目录|[上下前后首末翻]一?[页章]|(?:\\w{1,3}版(?=\\h转自|\\h百度贴吧)|轻之国度|图源|录入|校对|二校|翻译|译者|插画|插图P\\d+|[插修扫]图|设计|润色|制作|出版社?|开本|印数|丛书|版次|ISBN|发布于)[\\h：][^\\n]{1,49})(?:\\n|$)|\\h?[【\\(（](?:未完待续|见本章说|本章\\w{1,3}[！]?|[全本第]\\w{1,4}完|\\w{0,3}下一页|(?:[地插]图|图片)P?\\d+|注释?\\d{0,3}|注：[^\\n\\(\\)（）【】]{1,18})[。…]{0,2}[】\\)）]|请记住本书首发[^\\n“”]+|Try【\\S{22}【】|看《\\b[\\w，：]{1,19}\\b》$|\\b(?:UU看书|狂沙网|哔嘀阁|筆蒾樓|qδ\\.)(?:\\B[a-z\\.]+)?|\\b\\w+秒记住：$', '', 15);
INSERT INTO `info_purify_rule` VALUES (16, '#16 净化段落', 1, 0, '(?i)(?<=\\n)(?:[（【]?PS\\d?\\b|作者有话要?说|作者的话[：\\n]|——(?:题外|作者的)话——\\n)[^\\n]*(?:\\n[^\\n]+){0,15}$|(?<=\\n)(?:——\\n|……\\n|[（【](?=[^\\n]+$))(?=[\\s\\S]{0,49}?(?:码字|存稿|[本新]书|书[友评]|[首追]订|订阅|打赏|月票|公众号|求收藏|推荐票|支持正版|[新补有更][一二三四五两]章|[右点午晚天时章]更新|推荐\\w{0,9}\\u300A|[第天晚有的这就旧再][\\d一二三四五两加爆]更|更新\\d{0,4}字))[^\\n]*(?:\\n(?![—…]{2}\\n)[^\\n]+){0,5}$|(?m)^(?:HTTPS?:|[（【]?PS\\d?[：:]|\\-WAP\\b|您可以在百度里|百度搜索|按键返回|版权所有|本作品来自|本站访问地址|本书仅供个人|本书版权归|本章尚未结束|本章未完[^\\n]+(?:\\n【[^\\n]+】$)?|【[\\w，！]{0,19}(?:\\b[上下]一章|野果阅读|[追听]书|[读书]APP|阅读尽在)|【[^\\n]+】【】|纯文字在线|测试章节！|\\W{0,3}到进行查看|当前网址|顶点手机|飞速中文|\\W?点此\\w{0,2}报错|\\W?更新预告\\b|广个告|交流好书|看书福利|看无广告|看[\\w\\]+\\就\\|更多好书|欢迎广大书友|\\W?加入书签|精校小说|每天更新时间|期待精彩继续|亲\\W(?:本站|点击)|求推荐|请退出转码|请记住本书|请牢记本站|全文字无广告|全文字小说|如果觉得此文|搜索关注|手机(?:访问|站全新|版?阅读)|书籍全\\W更新快|书客居阅读|天才[一壹]秒|天才本站|推本书\\b|网站即将关闭|网站最新地址|网页版章节|网为你提供|为您提供大神|微信关注|温馨提示\\W为防止(?:最新章|内容获取)|无弹窗免费|下载后请在24小时|下载\\w{1,4}\\B[^A-Z]APP|[想要]{0,2}看最新章节|新书期间|新书上传|新?笔趣阁|(?:你是天才\\W)?[一三1]秒钟?记住|以下是：为你提供|永久地址|域名更换为|阅读网址|\\W{0,4}看?最快[最更]新|\\W{0,3}章节[有错]误|支持\\w+阅读|中文域名|转载请保留|注册本站|TXT下载|\\d+(?:TXT|SHU)|\\W?送\\d+现金红包|\\w+(?:手机版：\\b[A-Z\\.]{2}|提醒您：看完记得收藏)|本书由\\S{1,19}?收集|[（【]推荐\\w+的《|看?《\\S{1,19}?\\b》最[快新]|为[你您]提供\\S{1,19}?更新|喜欢\\S{1,19}?请大家收藏|阅读\\S{1,19}?最新章节请)[^\\n]*$(?:\\n[^\\n]+$(?!\\n)|\\n[^\\n\\w“”—…※]{0,9}$|\\n第\\w{1,7}章[^\\n]{0,19}$|\\n\\d+[\\.\\h][^\\n\\d][^\\n]{0,19}$)?\\n?|^[^\\n]{0,49}?(?:页继续阅读|[退支][出持]阅读模式|模式阅读|免费阅读|最新章节|畅阅无阻|[求月的]月票|书[币友]的?[打万]赏)[^\\n\\w]{0,9}$\\n?', '', 16);
INSERT INTO `info_purify_rule` VALUES (17, '#17 净化杂项', 1, 1, '(?mi)(?:“”|‘’|「」|【】|（）|\\(\\)|<>)[，]?|(?<=^\\b[\\w、。！？—…]{0,4}(\\w[。！？—…]{1,4}))\\n\\b(?=[\\w、。！？—…]{0,4}\\1$)|(?<=^\\w[^\\n\\w]{1,4})\\n\\b(?=\\w[^\\n\\w]{1,4}$)|(?<=[，、]|[^：]“[！？…]{1,9}”|[（【][^\\n：（）【】]{0,36})\\n\\b|\\n\\b(?=[^\\n：（）【】]{0,36}[）】])|\\b\\n(?=(?<![：][\\+\\-]?\\b[\\w\\+\\-，、%]{1,15}\\b\\n)[！？…])|\\n\\B(?=[，、：；]|(?<=\\b：\\n)“)|(?<=\\d%?[→])\\n(?=\\d)|(?:\\b[。！？—…]+\\B|\\n\\b)(?=[”’」]?(?:[时式][的地]|的[^的确]|为由|之[声类流]|一声|[着后]\\b|地\\w着\\b))|[。]?@ꁘ——', '', 17);
INSERT INTO `info_purify_rule` VALUES (18, '#18 叠音词组', 1, 1, '(?mi)(“[^\\n“”]{9,19}”|^[^\\n]{1,19}\\n|\\b[\\u4e00-\\u9fcc][^\\n“”]{9,19}?[。！？—…]\\b|^“)(?=\\1)|\\b([\\u4e00-\\u9fcc][^\\n“”]{1,8}?)([。，、！？—…])\\b(?=\\2\\3\\2)|([—…]|[“「（【][^\\n]{3,9}?)(?=\\4{2})|(“\\S”|「\\S」|（\\S）|【\\S】|\\b[\\u4e00-\\u9fcc][^\\n“”]{0,8}?)\\5*(?=\\5{3})|(\\B[\\u4e00-\\u9fcc]{1,2})\\6*(?=\\6{3}(?:\\b|\\6))', '', 18);
INSERT INTO `info_purify_rule` VALUES (19, '#19 拆分🔺长句', 1, 1, '([^\\n“”＂。：；！？—…]{15})，\\b(?!(?<=，\\w{1,3}，)|(?<=，\\w{4}，)\\w{4}，|(?<=，\\w{4,5}，)\\w{5}，|(?<=，\\w{4,6}，)\\w{6}，)(?![^\\n]{1,9}[：])(?=(?:\\b：“|[^\\n“”＂。：；！？—…]){15})(?!(?<=虽[\\w，、]{1,17})[虽但])(\\b|可是?|而且?)(?=\\b[，]|\\B[\\w、]{19}|\\b[\\u4e00-\\u9fcc][，]\\b|\\b(?:\\w[们某等辈主君王侯男女兄弟姐妹娘子儿]?)?虽|\\b非?但[^仍却]|\\b况且|\\b然[而则]|\\b所以|\\b不[仅但料论然]|不多时|\\b难不成|\\b且不?说|殊不知|只不过|\\b要不[然是]|\\b要是|果不其然|不得不说|不[消出]片刻|不知不觉间|\\b[诶欸哦噢喔]|毕竟|常言|除[非却了]|\\b到时候|\\b单[就凭单]|\\b[当随旋]即|对于|\\b顿时|俄顷|反[倒而正之]|仿[佛若]\\w{12}|否则|甫一|\\b故[此而]|\\b果然|更?何况|遑论|[既即][然没有不是无非]|即[\\W便使]|假[如若]|[鉴基]于|较之|届时|尽管|仅仅|经此|据说|看[这那]?样子|可谓是|老实说|没曾想|莫说是|哪怕|\\b那么[你我他她此这个]|[那这]般|难[怪道]|饶是|现?如[果今若非]|若[是非不能]|俗话说|\\b所谓|实际上(?![的却仍也])|孰料|说话间|倘若|特别是|万万没|万一|唯[有独]|无论|相比|\\b幸[亏好而]|言罢|\\b一旦|因[为此而]|有道是|尤其是|与其说|\\b于是|乍一看|再就是|再然后|再比如|\\b再者|自[从打]|纵[然使是观有]|\\b总之|[作身]为|正所谓|至于|直到|之所以|(?:换|\\b\\w\\w)言之|[按照][常道]?理来?说|曾几何时|除此\\w外|古往今来|归根结底|毫无疑问|换句话说|既[是便]?如此|假以时日|久而久之|可想而知|来日方长|迄今为止|若干年[前后]|事到如今|时至今日|以此类推|一直以来|一来二[去回]|一[来则][\\w、]+，二[来则]|(?:一般|简单|通常|严格|准确|具体|总[体的]|如此|现在)(?:[说看]来|[来而地][说讲言])|由此可\\w|与此同时|众所周知|[至自从]始[至自]终|(?:[再又就好]?比如|不[过管]|可是|若|就[好]?[连算像]|哪怕[只仅]?|然后?|甚至于?|尤其)(?:，|[把比跟和将令让是非像以与在]|\\w?[您你我他她它伱妳莪祂俺汝朕卿某谁这那此某诸其众整各自别人鬼者客员家氏士师叔伯侯父母兄弟姐妹姝妪奴最更很怎却])|([不对好呃哈呵嘿嗯啧])\\3{0,2}[，]|([\\u4e00-\\u9fcc]{2})([\\u4e00-\\u9fcc])[\\w、]{1,16}\\b[，](?=\\4[就是被则]|[更另也还再]\\4|\\4\\w?\\5)|(?:\\b\\w{2}(?:年间|[元初末]年|的是|之[中威势])|\\b\\w(?:[夜色光][中里]|[时此这兄了啊哟嘞呢])|\\b[你我他她](?:觉得|知道|发现|的\\w[中里])|\\b[第其][一二三四五]|\\b[一二三四][来则]|\\b[第这那某有前后上下同近于]?[一二三四五六七八九十百千万两半几数]{1,3}(?:[秒分刻点]钟?|[个多]{0,2}(?:世纪|小时|时辰|月份?)|炷香|盏茶|[天日晚周年岁名次])(?:\\b|[之以过]?[前后内里中间际来去初末]|[当昨今明][天日晚]|[上中下]午|[早晚]上|的?时[间刻])|(?:[霎瞬]时|[忽蓦突倏豁恍]然|(?:刹那|顷刻|[转眨][眼瞬]|弹指|须臾|仓促|恍惚|隐约|彼此)\\B)(?:之?间)?|\\b比如说?|\\b不错|不(?:曾想|远处|久之?[前后])|[不没只才]一会儿?|此\\w此\\w|大不了|当[时初下然]了?|到时候?|的确|短时间内|多年[之以][前后来]|而[后你我他她]|刚才|好半天|\\b还[有好]|\\b还是说|\\b很快|\\b后来|或[者许]说?|继而|接下来|紧?接着|\\b结果|见状|\\b今[天日后]|\\b就(?:\\w\\b|这样)|[就恰]?在[此这那]时|\\b也?就是说|据(?:说|[我他她]\\w\\w)|\\b看(?:起?来|上去|得出)|\\b可(?:[恶惜]|以说|\\w\\w是)|例如|\\b另外|\\b论\\w\\w|\\b没(?:错|办法|想到|过?多久)|目前|\\b平日里?|起初|最?起码|其[次实中]|其\\w{1,2}之[中内威势]|\\b恰好|前不久|\\b确实|所幸|随后|事实上|试[问想]|\\b是[夜的以故毕]|首先|说(?:到底|不定|起来|白了|真的|实话)|实?话说|\\b顺便一提|\\b同(?:[时样]的?|一[个件时]\\w)|很?显然|现在|现?如今|想来|[正恰]?相反|\\b心念\\w[转动]|眼下|\\b要不|\\b要知道|\\b也[许罢行]|翌日|依\\w看来?|[一半](?:路上|时间|[眨晃]眼)|[有某]\\w?时候|原来|再[次有者说则]了?|\\b在[你我他她妳]的\\w{2}|怎么样?|(?:[至在]|[直等待]?[到]了?)[这那]?\\w[时刻天]|最[终后]|[这那此](?:\\w|\\w\\w[友兄弟姐妹侠辈法诀谱]|[种个件时期]\\w{1,2})|[这那此现如]\\w(?:的话|[看想说一]来|情[况形]下)|真是的|\\b正[好巧]|\\b只?(?:不过|可惜|\\B是)|至少|终于)[，]|(?:[和与]\\w{2,6}[同样似仿比较]|[就正]?[自从如]\\w{1,6}[起始想虑]|[这就]?[当对于自从等待依据趁以在][\\w、「」]{1,9}(?:而言|[看想]来|来[看想讲说]|方面|为例|所知|身[份上]|[关尽]头|同时|[时年][候刻代]?|[瞬期]间|刹那间?|[这那上下的]一[刻瞬刹秒]|[之以][内外来]|之[见时际中间前后]|[现][前后]|[况助导持态]之?[下]|[中核]心|[眼感印]\\w?[里中])|[更最]\\w{1,9}的就?是)[，])', '$1。$2', 19);
INSERT INTO `info_purify_rule` VALUES (20, '#20 拆分🔻段落', 1, 1, '(?:\\b\\w[^\\n]{1,29}?(?:(?<=如下)[：]|(?<![：；][^\\n：；]{0,9})[；](?![^\\n：；]{0,9}[：；])|(?<=[。！？—…])[”](?=(?<=(?:[：]|[说道问答忖][，])“[^\\n“”＂]{2,49}”)|“\\b[^\\n“”＂]{19}|[“]\\b(?:[\\w，、%](?!”)|[。！？—…]|”“){2,69}\\B”\\n)|[】](?=【\\w+：)|(?<=[。！？—…][”]\\b[\\w，、「」]{2,49})[。](?=[\\w“「『《])|(?<=[\\w，、「」]{9})[。！？]{1,2}(?![（【])(?=\\w+[，][“‘]|[“]?[\\w、「」]+[！？—…]|(?<=[\\w、「」]{16}[。！？]{1,2})|[“]?[\\w、「」]{16})|(?<=[\\w，、：「」]{9})[。：；！？—…]{1,2}(?=\\b[\\w，、「」]{1,49}\\b：|【\\w+】：|[第其]?[一二三四五六七八九十][来者则是]?\\b(?<=\\b\\w{2})[，]|[［（〔][一二三四五六七八九十]{1,3}[］）〕]))(?=[\\w“（【「『《][^\\n]{9})|\\b\\w[\\w，、「」《》]{29,69}[：](?=[“＂]?[^\\n：“”＂]{29})|\\b\\w[^\\n]{29,49}?[”」）】]?[。；！？—…]+[”）】]?(?=[\\w“（【「『《][^\\n]{29})(?!(?<=\\b[“][^\\n“”]{1,19}[”]|\\b[（][^\\n（）]{1,19}[）]|\\b[【][^\\n【】]{1,19}[】])\\b|(?<=[—…”])\\w{1,9}[。！？—…]|(?<=[！？])\\w{1,9}[！？]))(?<!“[^\\n”]{1,36}|‘[^\\n’]{1,36}|「[^\\n」]{1,36}|『[^\\n』]{1,36}|[（\\(][^\\n\\)）]{1,36}|【[^\\n】]{1,36}|[\\[［〔][^\\n\\]］〕]{1,36}|[\\{｛][^\\n\\}｝]{1,36}|《[^\\n》]{1,36})(?![^\\n“]{0,36}”|[^\\n‘]{0,36}’|[^\\n「]{0,36}」|[^\\n『]{0,36}』|[^\\n\\(（]{0,36}[）\\)]|[^\\n【]{0,36}】|[^\\n\\[［〔]{0,36}[\\]］〕]|[^\\n\\{｛]{0,36}[\\}｝]|[^\\n《]{0,36}》)', '$0\\n', 20);

-- ----------------------------
-- Table structure for info_search_rule
-- ----------------------------
DROP TABLE IF EXISTS `info_search_rule`;
CREATE TABLE `info_search_rule`  (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `source_id` bigint NULL DEFAULT NULL COMMENT '书源id',
  `init_url` varchar(1024) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '初始化链接js',
  `init_data` varchar(1024) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '初始化数据js',
  `charset_name` char(5) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '编码',
  `info` varchar(1024) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '获取详情的规则',
  `next_page` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '下一页链接',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX ```source_id```(`source_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 8 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '章节内容搜索规则表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Records of info_search_rule
-- ----------------------------
INSERT INTO `info_search_rule` VALUES (1, 7, '<js>baseUrl + result</js>', NULL, 'GBK', '#content@html', NULL);
INSERT INTO `info_search_rule` VALUES (2, 2, '<js>arr = result.split(\",\")\r\narr[0] + arr[1]</js>', NULL, 'GBK', '#htmlContent@html##一秒记住【书香小说网 www\\.shuxiang\\.la】，精彩小说无弹窗免费阅读！', NULL);
INSERT INTO `info_search_rule` VALUES (3, 8, '<js>arr = result.split(\",\")\r\ntempUrl = arr[0].substring(0, arr[0].lastIndexOf(\'.html\'));\r\ntempUrl + \'/\' + arr[1];\r\n</js>', NULL, 'UTF-8', '#txt@html', NULL);
INSERT INTO `info_search_rule` VALUES (4, 9, '<js>arr = result.split(\",\")\r\ntempUrl = arr[0].substring(0, arr[0].indexOf(\'/\', 8));\r\ntempUrl + arr[1];\r\n</js>', NULL, 'GBK', '#content@html', NULL);
INSERT INTO `info_search_rule` VALUES (5, 10, '<js>arr = result.split(\",\")\r\narr[0].replace(\'/list\', \'/\'+ arr[1])</js>', '<js>var SecretKeySpec = Java.type(\'javax.crypto.spec.SecretKeySpec\');\r\nvar IvParameterSpec = Java.type(\'javax.crypto.spec.IvParameterSpec\');\r\nvar Base64 = Java.type(\'java.util.Base64\');\r\nvar Cipher = Java.type(\'javax.crypto.Cipher\');\r\nfunction decrypt(str) {\r\n	var key = new SecretKeySpec(java.str2Bytes(\'ZKYm5vSUhvcG9IbXNZTG1pb2\'), \'DESede\');\r\n    var iv = new IvParameterSpec(java.str2Bytes(\'01234567\'));\r\n    var bytes = Base64.getDecoder().decode(str);\r\n    var cipher = Cipher.getInstance(\'DESede/CBC/PKCS5Padding\');\r\n    cipher.init(2, key, iv);\r\n    return java.bytes2Str(cipher.doFinal(bytes));\r\n}\r\ndecrypt(JSON.parse(result).data.replace(/(\\r\\n)|(\\n)|(\\r)/g,\'\'));</js>', 'UTF-8', '$.content##\\n-><br><br>', NULL);
INSERT INTO `info_search_rule` VALUES (6, 11, '<js>arr = result.split(\",\")\r\nsign_key=\'d3dGiJc651gSQ8w1\'\r\ntempUrl = arr[0].split(\'/\').pop();\r\nidMatch = tempUrl.match(/id=([^&]*)/);\r\nid = idMatch ? idMatch[1] : null;\r\nparams={\'id\':id,\'chapterId\':arr[1]}\r\nfunction urlEncode(param, key, encode) {\r\n	if(param==null) return \'\';\r\n	var paramStr = \'\';\r\n	var t = typeof (param);\r\n	if (t == \'string\' || t == \'number\' || t == \'boolean\') {\r\n		paramStr += \'&\' + key + \'=\' + ((encode==null||encode) ? encodeURIComponent(param) : param);\r\n	} else {\r\n		for (var i in param) {\r\n			var k = key == null ? i : key + (param instanceof Array ? \'[\' + i + \']\' : \'.\' + i);\r\n			paramStr += urlEncode(param[i], k, encode);\r\n		}\r\n	}\r\n	return paramStr;\r\n};\r\nparamSign=String(java.md5Encode(Object.keys(params).sort().reduce((pre,n)=>pre+n+\'=\'+params[n],\'\')+sign_key))\r\nparams[\'sign\']=paramSign\r\nurl=\'https://api-ks.wtzw.com/api/v1/chapter/content?\'+urlEncode(params);</js>', NULL, 'UTF-8', '$.data.content<js>var SecretKeySpec = Java.type(\'javax.crypto.spec.SecretKeySpec\');\r\nvar IvParameterSpec = Java.type(\'javax.crypto.spec.IvParameterSpec\');\r\nvar Cipher = Java.type(\'javax.crypto.Cipher\');\r\nvar Arrays = Java.type(\'java.util.Arrays\');\r\nvar Base64 = Java.type(\'java.util.Base64\');\r\nfunction decode(content) {\r\n	var ivEncData =  Base64.getDecoder().decode(content);\r\n	var key = new SecretKeySpec(java.str2Bytes(\'242ccb8230d709e1\'), \'AES\');\r\n	var iv = new IvParameterSpec(Arrays.copyOfRange(ivEncData, 0, 16));\r\n	var chipher = Cipher.getInstance(\'AES/CBC/PKCS5Padding\');\r\n	chipher.init(2, key, iv);\r\n	return java.bytes2Str(chipher.doFinal(Arrays.copyOfRange(ivEncData, 16, ivEncData.length)));\r\n}\r\ndecode(result);</js>##\\n-><br><br>', NULL);
INSERT INTO `info_search_rule` VALUES (7, 12, NULL, NULL, 'UTF-8', NULL, NULL);

-- ----------------------------
-- Table structure for my_bookshelf
-- ----------------------------
DROP TABLE IF EXISTS `my_bookshelf`;
CREATE TABLE `my_bookshelf`  (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `openid` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '小程序openid',
  `source_id` bigint NULL DEFAULT NULL COMMENT '书源id',
  `book_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '书名',
  `book_link` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '书籍链接',
  `img` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '图片链接',
  `author` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '作者',
  `new_chapter_url` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '最新章节链接',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX ```openid```(`openid`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 6 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '我的书架表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Records of my_bookshelf
-- ----------------------------
INSERT INTO `my_bookshelf` VALUES (1, 'ooKQD47tZ_7m4AyiYl4IJxEBk_PU', 11, '太荒吞天诀', '195631', 'https://cdn.wtzw.com/bookimg/public/images/cover/9bf3/311a201ce74a2885b41e2c95ed3ac4d2_360x480.jpg', '铁马飞桥', NULL);
INSERT INTO `my_bookshelf` VALUES (3, 'ooKQD47tZ_7m4AyiYl4IJxEBk_PU', 11, '活着', '1774020', 'https://cdn.wtzw.com/bookimg/public/images/cover/657fa7619c2de_360x480.jpg', '余华', NULL);
INSERT INTO `my_bookshelf` VALUES (4, 'ooKQD47tZ_7m4AyiYl4IJxEBk_PU', 8, '边城', 'https://www.zbcxw.cn,/xiaoshuo/29286.html', 'https://www.xingxingxsw.com/files/article/image/19/19287/19287s.jpg', '沈从文', NULL);
INSERT INTO `my_bookshelf` VALUES (5, 'ooKQD47tZ_7m4AyiYl4IJxEBk_PU', 11, '成年人的世界没有容易二字', '1777804', 'https://cdn.wtzw.com/bookimg/public/images/cover/658d3ee18c8ee_360x480.jpg', '老杨的猫头鹰', NULL);

-- ----------------------------
-- Table structure for search_history
-- ----------------------------
DROP TABLE IF EXISTS `search_history`;
CREATE TABLE `search_history`  (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `openid` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '小程序openid',
  `info` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '搜索信息',
  `create_time` datetime(0) NULL DEFAULT NULL,
  `update_time` datetime(0) NULL DEFAULT NULL,
  PRIMARY KEY (`id`) USING BTREE,
  INDEX ```openid```(`openid`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 8 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '搜索历史表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Records of search_history
-- ----------------------------
INSERT INTO `search_history` VALUES (1, 'ooKQD40jkVrxB78u59-54JuyGT_E', '斩神', '2024-09-03 16:49:59', '2024-09-03 16:49:59');
INSERT INTO `search_history` VALUES (2, 'ooKQD40jkVrxB78u59-54JuyGT_E', '斗破苍穹', '2024-09-03 18:22:17', '2024-09-03 18:22:17');
INSERT INTO `search_history` VALUES (3, 'ooKQD40jkVrxB78u59-54JuyGT_E', '不是傻子了', '2024-09-04 11:39:16', '2024-09-04 11:39:16');
INSERT INTO `search_history` VALUES (4, 'ooKQD47tZ_7m4AyiYl4IJxEBk_PU', '活着', '2024-09-11 23:00:38', '2024-09-11 23:00:38');
INSERT INTO `search_history` VALUES (5, 'ooKQD47tZ_7m4AyiYl4IJxEBk_PU', '围城', '2024-09-11 23:01:03', '2024-09-11 23:01:03');
INSERT INTO `search_history` VALUES (6, 'ooKQD47tZ_7m4AyiYl4IJxEBk_PU', '边城', '2024-09-11 23:01:23', '2024-09-11 23:01:23');
INSERT INTO `search_history` VALUES (7, 'ooKQD47tZ_7m4AyiYl4IJxEBk_PU', '成年人的世界没有容易二字', '2024-09-11 23:03:29', '2024-09-11 23:03:29');

-- ----------------------------
-- Table structure for user
-- ----------------------------
DROP TABLE IF EXISTS `user`;
CREATE TABLE `user`  (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `nick_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL,
  `password` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL,
  `avatar` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL,
  `phone` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL,
  `openid` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL,
  `create_time` datetime(0) NULL DEFAULT NULL,
  `update_time` datetime(0) NULL DEFAULT NULL,
  PRIMARY KEY (`id`) USING BTREE,
  INDEX ```openid```(`openid`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 6 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Records of user
-- ----------------------------
INSERT INTO `user` VALUES (1, 'kenn', 'c3c118e521baab677926297f1c31e55f', 'c3c118e521baab677926297f1c31e55f', NULL, 'ooKQD40jkVrxB78u59-54JuyGT_E', '2021-12-07 14:02:34', '2021-12-07 14:02:37');
INSERT INTO `user` VALUES (4, '不問歸期.', NULL, 'wxfile://tmp_df1b791af323ed01f6a10a04dbf10922.jpg', NULL, 'ooKQD40jkVrxB78u59-54JuyGT_E', '2022-12-03 15:39:33', '2022-12-03 15:39:33');
INSERT INTO `user` VALUES (5, 'Sun🍋', NULL, 'wxfile://tmp_91ae9799847fe9a40c92962e7ebd548b.jpg', NULL, 'ooKQD4wXWbug9n_ZlIZewCgL5D8c', '2022-12-03 15:41:34', '2022-12-03 15:41:34');

SET FOREIGN_KEY_CHECKS = 1;
